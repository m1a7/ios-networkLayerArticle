//
//  Templater.h
//  vk-networkLayer
//
//  Created by Admin on 06/08/2020.
//  Copyright ¬© 2020 iOS-Team. All rights reserved.
//

#import <Foundation/Foundation.h>
#import "APIMethods.h"


NS_ASSUME_NONNULL_BEGIN

/*--------------------------------------------------------------------------------------------------------------
 üñ®üßæ 'Templater' - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑—Ü—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ .json —Å –¥–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
 ---------------
 –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —ç–∫–∑–µ–º–ø–ª—è—Ä—ã NSDictionary –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é json —Ñ–∞–π–ª–æ–≤
 —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –Ω–∞ –¥–∏—Å–∫–µ.
 ---------------
 [‚öñÔ∏è] Duties:
 - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–ª–∞—Å—Å–æ–º 'TemplaterFileManager' –∫–æ—Ç–æ—Ä—ã–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π.
 - –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å/–ß–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ NSUserDefault.
 - –û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π –¥–ª—è –ø–∞–ø–æ–∫ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ).
 ---------------
 The class provides the following features:
 - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä–∏ –∏–∑ json —Ñ–∞–π–ª–æ–≤ –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 - –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –≤ –ø–µ—Å–æ—á–Ω–∏—Ü—É –ø–æ –∏–º–µ–Ω–∏ API –º–µ—Ç–æ–¥–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–≤–µ—Ä—à–µ–Ω –∑–∞–ø—Ä–æ—Å.
 - –£–¥–∞–ª—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω, –ø–æ –∏–º–µ–Ω–∏ API –º–µ—Ç–æ–¥–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–≤–µ—Ä—à–µ–Ω –∑–∞–ø—Ä–æ—Å.
 - –£–¥–∞–ª—è—Ç—å –≤—Å–µ —à–∞–±–ª–æ–Ω—ã —Å –¥–∏—Å–∫–∞.
 - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å—Ç–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –ø–∞–ø–∫—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –≤ –¥—Ä—É–≥–∏–µ –ª–æ–∞–∫—Ü–∏–∏.
 ---------------
 Additionally:
 (‚ö†Ô∏è) –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞ –±—ã–ª–∞ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –±—ã–ª–æ
      –¥–∏–Ω–º–∞—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã.
 –¢–∞–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ bundle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥–æ–º –Ω–µ–ª—å–∑—è.
 
 –ò–∑ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç —Å–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞, -"–û—Ç–∫—É–¥–∞ Templater –¥–æ–ª–∂–µ–Ω –±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –¥–ª—è –í–∞–ª–∏–¥–∞—Ç–æ—Ä–∞, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–∫–∞—á–µ–Ω–Ω–æ–µ
 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ AppStore –∏–º–µ–µ—Ç —á–∏—Å—Ç—É—é –ø–µ—Å–æ—á–Ω–∏—Ü—É ?".
 
 –û–¥–Ω–∏–º –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Å –∏–º–µ–Ω–µ–º 'APIManagerResponseDefaultTemplates.zip'
 –≤ bundle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –∑–∞—Ç–µ–º –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ +unarchiveFolderWithDefaultTemplates:..,
 –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏–µ—Ç –ø–∞–ø–∫—É –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ 'pathToTemplateDirectory').
 
 –í –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∞—Ç—å json —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞, –∞ —Ç–∞–∫–∂–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏—Ö.
 --------------------------------------------------------------------------------------------------------------*/


@interface Templater : NSObject

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å –Ω–∞ –ø–∞–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª—ã-—à–∞–±–ª–æ–Ω—ã.
 –ï—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞–ø–∫–∏, —Ç–æ –ø–∞–ø–∫–∞ –≤–º–µ—Å—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ.
 --------------------------------------------------------------------------------------------------------------*/
@property (atomic, strong, readonly, class) NSString* pathToTemplateDirectory;


/*--------------------------------------------------------------------------------------------------------------
 –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 'NO'. –ï—Å–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 'YES', —Ç–æ —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –≤ bundle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 --------------------------------------------------------------------------------------------------------------*/
@property (nonatomic, assign, class) BOOL loadTemplateFromBundle;

#pragma mark - Methods

/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å—Ç–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–∞–ø–∫–∏ —Å —à–∞–±–ª–æ–Ω–∞–º–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) setNewPathToTemplateDirectory:(NSString*)path;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π json —Ñ–∞–π–ª —Å –¥–∏—Å–∫–∞ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –∏–∑ RAM –ø–∞–º—è—Ç–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSDictionary*) templateForAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—Ä–∞–∑–µ—Ü —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º API –º–µ—Ç–æ–¥–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) writeTemplate:(NSDictionary*)template forAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –£–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞–∑–µ—Ü —Ñ–∞–π–ª–∞ —Å –¥–∏—Å–∫–∞ –∏ –∏–∑ RAM –ø–æ –∏–º–µ–Ω–∏ API –º–µ—Ç–æ–¥–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) removeTemplateForAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å—Ç–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É —Å–æ –≤—Å–µ–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) removeAllTemplates;


/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å –ø–∞–ø–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö json —Ñ–∞–π–ª–æ–≤ (–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞).
 –ï—Å–ª–∏ —É–∫–∞–∂–∏—Ç–µ nil –≤ –∞—Ä–≥—É–º–µ–Ω—Ç 'atPath', —Ç–æ–≥–¥–∞ –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–∞—Ä—Ö–∏–≤—Ä—É–µ—Ç –ø–∞–ø–∫—É –ø–æ –ø—É—Ç–∏ 'Templater.pathToTemplateDirectory'.
 –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ +APIManager.prepareBeforeUsing:,
 –≤–Ω—É—Ç—Ä–∏ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–∑–∞—Ä—Ö–∏–≤—Ä–æ–≤–∞–Ω–∏–π.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) unarchiveFolderWithDefaultTemplates:(nullable NSString*)atPath
                                  completion:(nullable void(^)(NSError* error))completion;

@end

NS_ASSUME_NONNULL_END
