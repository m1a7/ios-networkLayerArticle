//
//  APIManager.h
//  GitHubAPI
//
//  Created by Admin on 13/05/2020.
//  Copyright ¬© 2020 iOS-Team. All rights reserved.
//

#import <Foundation/Foundation.h>
#import "APIConsts.h"
#import "AuthProtocol.h"
#import <RXNetworkOperation/RXNO_OperationProtocols.h>


NS_ASSUME_NONNULL_BEGIN

// models
@class Friend;
@class UserProfile;
@class WallPost;
@class Photo;
@class PhotoGalleryCollection;


/*--------------------------------------------------------------------------------------------------------------
 üåêüïπ 'APIManager' - —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏.
 ---------------
 –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∫–ª–∞—Å—Å–∞ - —Å–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
 ---------------
 [‚öñÔ∏è] –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:
 - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API –ø—Ä–æ–¥—É–∫—Ç–∞.
 - –Ø–≤–ª—è—Ç—å—Å—è –¥–µ–ª–µ–≥–∞—Ç–æ–º –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª <Auth2_0_Delegate> –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
 - –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º. –•—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–ø–µ—Ä—Ç–∏ (–Ω–∞ —Ç–æ–∫–µ–Ω), –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∏–∑ –ø–∞–º—è—Ç–∏.
 --------------------------------------------------------------------------------------------------------------*/


@interface APIManager : NSObject <Auth2_0_Delegate>

#pragma mark - URLSession
/*--------------------------------------------------------------------------------------------------------------
 –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º.

 1) –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –±–∞–∑–µ –æ–±—â–µ–π —Å–µ—Å—Å–∏–∏ –∏–∑ 'RXNetworkOperation'.
 2) –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –µ–µ –≤ –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é. 
 3) –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏–º–µ—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–µ—Å—Å–∏–π, –¥–ª—è –∫–∞–∂–¥–æ–π –≤–æ–∑–º–æ–∂–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. 
 ---
 (‚ö†Ô∏è) –£ –≤–∞—Å —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å 'RXNetworkOperation', –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
  –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é, —Ç–æ –≤ —Å–≤–æ–π—Å—Ç–≤–µ 'operation.privateSession' –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
 'APIManager.defaultSession' –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, readonly, strong) NSURLSession* defaultSession;


#pragma mark - Queues
/*--------------------------------------------------------------------------------------------------------------
 –û—á–µ—Ä–µ–¥–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, readonly, strong) NSOperationQueue* aSyncQueue;

@property (class, nonatomic, readonly, strong) NSOperationQueue* syncQueue;


#pragma mark - Token Property
/*--------------------------------------------------------------------------------------------------------------
 –í –ø—Ä–æ–ø–µ—Ä—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã —Ä–∞–Ω–µ–µ –ø–æ–ª—É—á–∏–ª–∏ –µ–≥–æ, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ,
 –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≥–µ—Ç—Ç–µ—Ä –∏–∑–≤–ª–µ—á–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ —Å–∞–º–æ–π 'Keychain'.
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, strong, nullable) Token* token;



#pragma mark - BaseURL & EndPoint
/*--------------------------------------------------------------------------------------------------------------
 –°–≤–æ–π—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –±—É–¥—É—â–µ–º. –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å
 'https://api.vk.com/method/', –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º API.
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, strong, nullable) NSString* baseURL;


/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–≤—É—Ö —Å—Ç—Ä–æ–∫. 'baseURL' –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ 'method'.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSString*) baseURLappend:(NSString*)method;


#pragma mark - Customization
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 'APIManager'a –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.
 –ù–∞–ø—Ä–∏–º–µ—Ä –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–¥–∞—Ç—å –Ω–µ–∫–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
 –í –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –≤—ã–∑—ã–≤–∞–≤ –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–Ω—É—Ç—Ä–∏ 'didFinishLaunchingWithOptions:..'.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) prepareAPIManagerBeforeUsing:(nullable void(^)(void))completion;




#pragma mark - Network Operations

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/*
 .__   __.  _______ .___________.____    __    ____  ______   .______       __  ___
 |  \ |  | |   ____||           |\   \  /  \  /   / /  __  \  |   _  \     |  |/  /
 |   \|  | |  |__   `---|  |----` \   \/    \/   / |  |  |  | |  |_)  |    |  '  /
 |  . `  | |   __|      |  |       \            /  |  |  |  | |      /     |    <
 |  |\   | |  |____     |  |        \    /\    /   |  `--'  | |  |\  \----.|  .  \
 |__| \__| |_______|    |__|         \__/  \__/     \______/  | _| `._____||__|\__\
 
   ______   .______    _______ .______          ___   .___________. __    ______   .__   __.      _______.
  /  __  \  |   _  \  |   ____||   _  \        /   \  |           ||  |  /  __  \  |  \ |  |     /       |
 |  |  |  | |  |_)  | |  |__   |  |_)  |      /  ^  \ `---|  |----`|  | |  |  |  | |   \|  |    |   (----`
 |  |  |  | |   ___/  |   __|  |      /      /  /_\  \    |  |     |  | |  |  |  | |  . `  |     \   \
 |  `--'  | |  |      |  |____ |  |\  \----./  _____  \   |  |     |  | |  `--'  | |  |\   | .----)   |
  \______/  | _|      |_______|| _| `._____/__/     \__\  |__|     |__|  \______/  |__| \__| |_______/
 */
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) usersGet:(NSArray<NSString*>*)userIDs
           fields:(NSArray<NSString*>* _Nullable)fields
       completion:(nullable void(^)(NSArray<UserProfile*>* _Nullable userProfiles, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –∞–Ω—Ç–∏—Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ.
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) photosCollectionFromID:(nullable NSString*)ownerID
                         offset:(NSInteger)offset
                          count:(NSInteger)count
                     completion:(nullable void(^)(PhotoGalleryCollection* _Nullable photoCollection, BO* op))completion;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π —Å–æ —Å—Ç–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) wallGet:(nullable NSString*)ownerID
          offset:(NSInteger)offset
           count:(NSInteger)count
          filter:(nullable NSString*)filter
      completion:(nullable void(^)(NSArray<WallPost*>* _Nullable wallPosts, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –Ω–∞ —Å—Ç–µ–Ω–µ. –ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ attachments –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–≥—Ä—É–∂–∞–µ—Ç –∏—Ö –ø–æ –æ–¥–∏–Ω–æ—á–∫–µ.
 --------------------------------------------------------------------------------------------------------------*/
+ (GO*) wallPost:(nullable NSString*)ownerID
         message:(nullable NSString*)message
  attachmentsArr:(nullable NSArray<NSData*>*)attachments
       fromGroup:(BOOL)fromGroup
      completion:(nullable void(^)(NSNumber* _Nonnull postID, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –Ω–∞ —Å—Ç–µ–Ω–µ. –ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É attachments (—Ç–æ –µ—Å—Ç—å —Ç—Ä–µ–±—É–µ—Ç –∞–¥—Ä–µ—Å—Å–∞ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) wallPost:(nullable NSString*)ownerID
          message:(nullable NSString*)message
      attachments:(nullable NSString*)attachments
        fromGroup:(BOOL)fromGroup
       completion:(nullable void(^)(NSNumber* _Nullable postID, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
 –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –Ω–µ –±–æ–ª–µ–µ 6 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –º–µ—Ç–æ–¥–µ.
 --------------------------------------------------------------------------------------------------------------*/
+ (GO*) uploadImages:(NSArray<NSData*>*)imagesData
              userID:(nullable NSString*)userID
             groupID:(nullable NSString*)groupID
          completion:(nullable void(^)(NSArray<NSDictionary*>* _Nullable savedImages, GO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) friendListForUserID:(nullable NSString*)ownerID
                       order:(nullable NSString*)order
                      fields:(NSArray<NSString*>* _Nullable)fields
                       count:(NSInteger)count
                      offset:(NSInteger)offset
                  completion:(void(^)(NSArray<Friend*>* _Nullable friends, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –°–æ–≤–µ—Ä—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É. –£–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã cookie –≤ 'WKWebsiteDataStore'.
 –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 'APIManager.token' –∏ —É–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ 'KeyChain'.
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) logout:(nullable void(^)(void)) completion;




#pragma mark - <Auth2_0_Delegate>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/*
   ______        ___      __    __  .___________. __    __      ___        ___
  /  __  \      /   \    |  |  |  | |           ||  |  |  |    |__ \      / _ \
 |  |  |  |    /  ^  \   |  |  |  | `---|  |----`|  |__|  |       ) |    | | | |
 |  |  |  |   /  /_\  \  |  |  |  |     |  |     |   __   |      / /     | | | |
 |  `--'  |  /  _____  \ |  `--'  |     |  |     |  |  |  |     / /_   __| |_| |
  \______/  /__/     \__\ \______/      |__|     |__|  |__|    |____| (__)\___/
 */
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/*--------------------------------------------------------------------------------------------------------------
  'AuthViewController' –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —É —Å–≤–æ–µ–≥–æ –¥–µ–ª–µ–≥–∞—Ç–∞ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–º—É –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) receiveTokenFromWebViewAuth:(nullable Token*)token error:(nullable NSError*)error;

/*--------------------------------------------------------------------------------------------------------------
 –ò—Å–ø–æ–ª—å–∑—É—è 'Router', –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 'AuthViewController' –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) authenticationProcess:(nullable AuthenticationCompletion)completion;



#pragma mark - Token Access Methods

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/*
 .___________.  ______    __  ___  _______ .__   __.
 |           | /  __  \  |  |/  / |   ____||  \ |  |
 `---|  |----`|  |  |  | |  '  /  |  |__   |   \|  |
     |  |     |  |  |  | |    <   |   __|  |  . `  |
     |  |     |  `--'  | |  .  \  |  |____ |  |\   |
     |__|      \______/  |__|\__\ |_______||__| \__|
 */
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

+ (BOOL) isThereTokenInKeychain;                //  Returns 'YES' if the token is written to the 'KeyChain'
+ (nullable Token*) restoreTokenFromKeychain;   //  Restores from 'KeyChain'

+ (void)     removeTokenInKeychain;             //  Deletes from 'KeyChain'
+ (NSError*) saveTokenInKeychain:(Token*)token; //  Saves in 'KeyChain'

/*--------------------------------------------------------------------------------------------------------------
  –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è '@property token' –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ 'KeyChain'
 --------------------------------------------------------------------------------------------------------------*/
+ (void) updateToken:(NSString*)accessToken expiresAfter:(NSString*)expiresAfter userID:(NSString*)userID;



#pragma mark - Helpers - Syntax Sugar

///////////////////////////////////////////////////////////////////////////////
/*
  __    __   _______  __      .______    _______ .______          _______.
 |  |  |  | |   ____||  |     |   _  \  |   ____||   _  \        /       |
 |  |__|  | |  |__   |  |     |  |_)  | |  |__   |  |_)  |      |   (----`
 |   __   | |   __|  |  |     |   ___/  |   __|  |      /        \   \
 |  |  |  | |  |____ |  `----.|  |      |  |____ |  |\  \----.----)   |
 |__|  |__| |_______||_______|| _|      |_______|| _| `._____|_______/
 */
///////////////////////////////////////////////////////////////////////////////

/*--------------------------------------------------------------------------------------------------------------
 –ù–∏–∂–µ –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã –º–µ—Ç–æ–¥—ã –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–¥–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ç–µ–≤—ã–º —Å–ª–æ–µ–º.
 --------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ–±—ã –ø—Ä–µ–∫—Ä–∞—â–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –±—ã–ª–∞
 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π. –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π 'completion' –±–ª–æ–∫ –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç 'error'.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError*) callCompletion:(nullable void(^)(NSError* _Nullable error))completion ifOccuredErrorInOperation:(BO*)op;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.
 –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ 'completion' –±–ª–æ–∫–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ APIManager.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError*) callCompletionWithTwoArg:(nullable void(^)(NSError* _Nullable error, id _Nullable arg1))completion ifOccuredErrorInOperation:(BO*)op;

+ (NSError*) callCompletionWithThreeArg:(nullable void(^)(NSError* _Nullable error, id _Nullable arg1, id _Nullable arg2))completion ifOccuredErrorInOperation:(BO*)op;

@end
