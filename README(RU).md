# –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π - —Å–µ—Ä–¥—Ü–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π –¥–ª—è iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
<img src="Documentation/Carbon-Screens/scheme11.png" title="" alt="" data-align="center">



# –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–î–ª—è –∫–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∞ –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è](#–¥–ª—è-–∫–æ–≥–æ-–Ω–∞–ø–∏—Å–∞–Ω–∞-–¥–∞–Ω–Ω–∞—è-—Å—Ç–∞—Ç—å—è)
- [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
- [–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏-–∫–ª–∞—Å—Å–æ–≤-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
- [–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏-–æ—Ç–¥–µ–ª—å–Ω—ã—Ö-—Ñ–∞–π–ª–æ–≤-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
- [–ö—Ä–∞—Ç–∫–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å RXNO](#–∫—Ä–∞—Ç–∫–æ–µ-–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ-—Å-RXNO)
    - [–ü–æ–ª—É—á–∞–µ–º json](#–ø–æ–ª—É—á–∞–µ–º-json)
    - [–ü–æ–ª—É—á–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](#–ø–æ–ª—É—á–∞–µ–º-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
    - [–í—ã–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#–≤—ã–≥—Ä—É–∂–∞–µ–º-—Ñ–æ—Ç–æ-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
    - [–ü—Ä–∞–∫—Ç–∏–∫–∞ –∏–∑–±–µ–≥–∞–Ω–∏—è callback-hell –≤ —Å–ª–æ–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–∏–∑–±–µ–≥–∞–Ω–∏—è-callback-hell-–≤-—Å–ª–æ–∂–Ω–æ-—Å–æ—Å—Ç–∞–≤–Ω—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö)
- [–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–ì–ª–∞–≤–Ω–æ–µ-–ø—Ä–∞–≤–∏–ª–æ-–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–º–æ–¥—É–ª–µ–π-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
- [–î–µ—Ç–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä—ã –º–æ–¥—É–ª–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–î–µ—Ç–∞–ª—å–Ω—ã–π-–æ–±–∑–æ—Ä—ã-–º–æ–¥—É–ª–µ–π-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
    - [üåêüïπ APIManager.h](#APIManager.h)
    - [üìÑ –§–∞–π–ª APIConsts.h](#–§–∞–π–ª-APIConsts.h)
    - [üìÑ –§–∞–π–ª APIMethods.h](#–§–∞–π–ª-APIMethods.h)
    - [üèóüß± NetworkRequestConstructor](#NetworkRequestConstructor)
    - [üñ®üßæ Templater](#Templater)
    - [üö¶‚öñÔ∏è Validator](#Validator)
        - [**üìö –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**](#–æ–±—â–∏–µ-–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-–≤—Å–µ—Ö-—Ç–∏–ø–æ–≤-–¥–∞–Ω–Ω—ã—Ö)
        - [**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ "üÖ∞Ô∏èüÖ±Ô∏è" Strings**](#–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Strings)
        - [**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞  [üçè üçé üçä] Arrays**](#–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Arrays)
        - [**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ {üìñ} Dictionaries**](#–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Dictionaries)
        - [**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ 1Ô∏è‚É£ 2Ô∏è‚É£ 3Ô∏è‚É£ Number**](#–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Number)
    - [üóÇ üîç Parser](#Parser)
    - [üìÑ ‚û°Ô∏è üíæ Mapper](#Mapper)
    - [üåêüïπ APIManager.m](#APIManager.m)
        - [–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞](–ø—Ä–æ–≤–µ—Ä–∫–∞-–Ω–∞–ª–∏—á–∏—è-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
        - [–°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ APIManager](#—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∞-—Å–µ—Ç–µ–≤—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏–π-–≤–Ω—É—Ç—Ä–∏-APIManager)
        - [–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ—á–∏–µ –æ—à–∏–±–∫–∏](–æ—à–∏–±–∫–∞-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏-–∏-–ø—Ä–æ—á–∏–µ-–æ—à–∏–±–∫–∏)
        - [–ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ 401 –æ—à–∏–±–∫–∏](–∫—Ä–∞—Ç–∫–æ–µ-–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ-–º–µ—Ö–∞–Ω–∏–∑–º–∞-–¥–µ–π—Å—Ç–≤–∏–π-–ø—Ä–∏-–≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏-401)
        - [–ö–∞–∫ —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](–æ—à–∏–±–∫–∏-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
        - [APIManager –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏](#APIManager-–∏-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- [–ü—Ä–∞–∫—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Å–µ—Ç–µ–≤–æ–≥–æ-—Å–ª–æ—è)
- [–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—å—é–ú–æ–¥–µ–ª–µ–π –≤ —Ñ–∞–π–ª–∞—Ö –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ .m](#–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-–≤—å—é–ú–æ–¥–µ–ª–µ–π-–≤-—Ñ–∞–π–ª–∞—Ö-–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏-.m)
- [–ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –≤ APIManager](#–ø–æ—Ä—è–¥–æ–∫-–¥–µ–π—Å—Ç–≤–∏–π-–ø—Ä–∏-–¥–æ–±–∞–≤–ª–µ–Ω–∏–∏-–º–µ—Ç–æ–¥–∞-–≤-APIManager)
- [–ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤](#–ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ-–∏—Ç–æ–≥–æ–≤)
- [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#–∑–∞–∫–ª—é—á–µ–Ω–∏–µ)
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
- [–ê–≤—Ç–æ—Ä](#–∞–≤—Ç–æ—Ä)


## –î–ª—è –∫–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∞ –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è

–°—Ç–∞—Ç—å—è –≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –Ω–∞—Ü–µ–ª–µ–Ω–∞ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ —É–≤–ª–µ—á–µ–Ω—ã –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö —Å–ª–æ–µ–≤ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–æ–ª—å—à–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ —Å–ª–æ–∂–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

–ù–∏–∂–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ —Å–≤–µ–∂–∏–º –≤–∑–≥–ª—è–¥–æ–º –Ω–∞ —Å—Ç–æ–ª—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2021 –≥–æ–¥–∞.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã—Ö —Ç–µ–º–∞–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–º–∏, –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –∏–∑–æ–±–∏–ª—É–µ—Ç –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. 
–ò –ø–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª–∏–Ω–Ω–æ–π –∏ –æ–±—ä–µ–º–Ω–æ–π, –æ—Ç—á–µ–≥–æ –µ—Å–ª–∏ –≤—ã —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ —è –∫—Ä–∞–π–Ω–µ —É–≤–ª–µ—á–µ–Ω—ã –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä, –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞—Ö–æ–¥–æ–≤, —Å —Ü–µ–ª—å—é –ª—É—á—à–µ–≥–æ —É—Å–≤–æ–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π.

## –í–≤–µ–¥–µ–Ω–∏–µ

–í–µ—Å—å —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –∫–ª–∞—Å—Å–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ `RXNetworkOperation`.

–°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ - —ç—Ç–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –∫–ª–∞—Å—Å–∞ `NSOperation`, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∫–æ—Ä–ø–æ—Ä–∏—Ä—É—é—Ç –≤ —Å–µ–±—è –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∫–ª–∞—Å—Å–∞ `NSURLSession`, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–ª–∞—Å—Å `NSURLSessionTask` (–∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏) —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø—Ä–æ—Ç–∏–≤ –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–µ—Ç–µ–≤–æ–º —Å–ª–æ–µ –Ω–∞–ø—Ä—è–º—É—é, –ø–æ –ø—Ä–∏—á–∏–Ω–µ —Ç–æ–≥–æ, —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞, —è–≤–ª—è–µ—Ç—Å—è –≥—Ä–æ–º–æ–∑–¥–∫–æ–π –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–∫–æ–π.

–ö –ø—Ä–∏–º–µ—Ä—É –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–æ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `RXNetworkOperation` –≤–∞–º –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –±–ª–æ–∫–∞—Ö.  

–í–¥–æ–±–∞–≤–æ–∫ –≤–∞–º –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—Ä–∞–π–Ω–µ –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —á–µ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø–µ—Ä—Ç–∏ –¥–ª—è –∏—Ö —É–¥–µ—Ä–∂–∞–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `NSOperation`.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—ã–ª–∞ –ª–µ–≥–∫–∞ –∏ –ø—Ä–∏—è—Ç–Ω–∞, –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤—Å–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è.
–°–ª–æ–π –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –∏ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –Ω–∏–∂–µ:  

<img src="Documentation/Carbon-Screens/scheme1.png" title="" alt="" data-align="center">

## –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

| Emoji-–ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è               | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å                                                                                                     |
| --------- | ----------------------------- |:------------------------------------------------------------------------------------------------------------------------------ |
| üåêüïπ      | **APIManager**                | –°–æ–∑–¥–∞–µ—Ç –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏.                                                           |
| üèóüß±      | **NetworkRequestConstructor** | –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã `NSURLRequest`¬†–∫¬†`API`.                                                                                   |
| üö¶‚öñÔ∏è      | **Validator**                 | –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.                                                                                        |
| üñ®üßæ      | **Templater**                 | –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑—Ü—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.json` —Å –¥–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —á—Ç–æ–±—ã `Validator` –º–æ–≥ —Å—Ä–∞–≤–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç —Å –æ–±—Ä–∞–∑—Ü–æ–º. |
| üóÇ üîç     | **Parser**                    | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.                                                                                         |
| üìÑ ‚û°Ô∏è üíæ  | **Mapper**                    | –°–æ–±–∏—Ä–∞–µ—Ç –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `json`.                                                                                              |

<br>

## –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

| –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞       | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å                                             |
| -------------------- | ---------------------------------------------------------------------- |
| üìÑ¬†¬†**APIConsts.h**  | –°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä, –º–∞–∫—Ä–æ—Å–æ–≤ –∏ –°–ò-—Ñ—É–Ω–∫—Ü–∏–π.                |
| üìÑ¬†¬†**APIMethods.h** | –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è `API` –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π. |

<br>

## –ö—Ä–∞—Ç–∫–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å RXNO

–§—Ä–µ–π–º–≤–æ—Ä–∫ `RXNetworkOperation` (**RXNO**) —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è **–Ω–µ** —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ. –û–¥–Ω–∞–∫–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏. 

 –ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É. 
 –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

| –ò–º—è –ö–ª–∞—Å—Å–∞               | –°–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                                                                                                                                                                                                |
| ------------------------ |:--------------------:| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `RXNO_DataTaskOperation` | **DTO**              | –°–∫–∞—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫.<br/>–í—ã–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.<br/>–Ø–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∏ —Å–∞–º—ã–º —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –∫–ª–∞—Å—Å–æ–º.<br/>–®–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á, –ø–æ–ª—É—á–µ–Ω–∏—è `json`, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤—ã–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö.    |
| `RXNO_DownloadOperation` | **DO**               | –°–∫–∞—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö –Ω–∞ –¥–∏—Å–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.                                                                                                                                                                                         |
| `RXNO_UploadOperation`   | **UO**               | –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `DTO` –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—ã–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –Ω–∞ –¥–∏—Å–∫–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞(–±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏—Ö –≤ `NSData`), –¥–ª—è —ç—Ç–æ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π `NSURL`¬†. |

<img src="Documentation/Carbon-Screens/scheme2.png" title="" alt="" data-align="center">

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

#### 1) –ü–æ–ª—É—á–∞–µ–º json. <a name="–ø–æ–ª—É—á–∞–µ–º-json"></a>
   
   –°–æ–∑–¥–∞–µ—Ç, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –ø–∞–º—è—Ç–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø–µ—Ä—Ç–∏.
   
   ```objectivec
   [[DTO GET:url completion:^(DTO * _Nonnull op, NSError * _Nullable error) {
       NSLog(@"op.json: %@",op.json);
   }] retainOperationAndStart];
   ```
   <br>
   
#### 2. –ü–æ–ª—É—á–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. <a name="–ø–æ–ª—É—á–∞–µ–º-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"></a>
   –°–æ–∑–¥–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å.
   
   ```objectivec
   DTO* picOp =
   [DTO GET:url params:@{} completion:^(DTO * _Nonnull op, NSError * _Nullable error) {
       UIImage* image = [UIImage imageWithData:op.receivedData];
   }];
   [self.queue addOperation:picOp];
   ```
   <br>

#### 3. –í—ã–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä <a name="–≤—ã–≥—Ä—É–∂–∞–µ–º-—Ñ–æ—Ç–æ-–Ω–∞-—Å–µ—Ä–≤–µ—Ä"></a>
   –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ `NSURLRequest` –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ—Ç –µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—É—Ç–µ–º –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ `NSURLSession`, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –æ–±—ä–µ–∫—Ç `NSURLSessionDataTask`.
   
   ```objectivec
   NSURLRequest* request = [NSURLRequest new];
   DTO* customOp =
   [DTO request:request uploadProgress:^(DTO * _Nonnull op, DTOUpProgress p) {
   
       NSLog(@"Progress: %f",(float)p.totalBytesSent/p.totalBytesExpectedToSend);
   
   } downloadProgress:nil completion:^(DTO * _Nonnull op, NSError * _Nullable error) {
   
       if (op.state == RXNO_SuccessFinished){
           NSLog(@"Your photo was successfully uploaded!");
       }else{
           NSLog(@"Your photo was uploaded with error: %@",error);
       }
   }];
   customOp.privateSession = self.myPrivateSession;
   [self.queue addOperation:customOp];
   ```
---

<br>

#### –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏–∑–±–µ–≥–∞–Ω–∏—è callback-hell –≤ —Å–ª–æ–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö <a name="–ø—Ä–∞–∫—Ç–∏–∫–∞-–∏–∑–±–µ–≥–∞–Ω–∏—è-callback-hell-–≤-—Å–ª–æ–∂–Ω–æ-—Å–æ—Å—Ç–∞–≤–Ω—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö"></a>

–ß–∞—Å—Ç–æ –º–æ–∂–Ω–æ —Å—Ç–∞—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª–µ–º —Ç–æ–≥–æ, –∫–∞–∫ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Å—é –º—É–∑—ã–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ, –≤–∞–º —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å `id` –≤—Å–µ—Ö –∞–ª—å–±–æ–º–æ–≤, –∞ –∑–∞—Ç–µ–º —Ç–æ–ª—å–∫–æ —Å–∫–∞—á–∞—Ç—å —Å–∞–º–∏ —Å–ø–∏—Å–∫–∏. 

–í—ã—à–µ –±—ã–ª –ø—Ä–∏–≤–µ–¥–µ–Ω –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–≥–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –≥–¥–µ –∫–∞–∂–¥–∞—è –ø–æ—Å–ª–µ–¥—É—é—â–∞—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏–ª–∞ –ø—Ä–µ–¥—ã–¥—É—â–∞—è.

–í –∏—Ç–æ–≥–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è, –∞ –∏–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ–ª—ã—Ö `NSURLSessionTask`, –∞ —Ç–∞–∫–∂–µ –æ–±–µ—Ä—Ç–æ–∫ –ø–æ —Ç–∏–ø—É `AFNetworking` –∏ –ø—Ä–æ—á–∏—Ö, —É –≤–∞—Å –Ω–µ–∏–∑–±–µ–∂–Ω–æ –±—É–¥–µ—Ç –æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å—Å—è `callback-hell `—Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. <br><br>

<p align="center">
  <img src="Documentation/Carbon-Screens/callbackhell.jpg">
</p>

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ `RXNO` –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–ª–∞—Å—Å `RXNO_GroupOperation`.
–ö–æ—Ç–æ—Ä—ã–π —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ `RXNO_BaseOperation` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º `NSOperation`, –∏ —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç —Å—Ö–æ–∂–∏–π —Å `RXNO_BaseOperation` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme3.png">
</p>


`RXNO_GroupOperation` –∏–º–µ–µ—Ç –Ω–µ–∫—É—é —Å—Ö–æ–∂–µ—Å—Ç—å —Å `NSBlockOperation`, –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤ —Ç–µ–ª–µ –µ–≥–æ `mainBlock` –≤—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—ã—á–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è `callback-hell`.

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥—Ä—É–ø–ø–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –∑–∞—Ç–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–≤–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏—Ö –≤—ã–ø–æ–ª–Ω—è–µ–º.

```objectivec
 GO* go =
[GO groupOperation:^(GO * _Nonnull groupOp) {

    DTO* getUsersAlbums = [[DTO GET:url1] syncStart];

    NSArray<NSNumber*>* albums = getUsersAlbums.json[@"albums"];

    DTO* getAllUsersMusic = [[DTO GET:url2 params:@{@"albums":albums}] syncStart];

    [weak.array addObjects:getAllUsersMusic.json[@"music"]];
}];
[self.queue addOperation:go];
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç —Ç–∞–∫–æ–≥–æ —è–≤–ª–µ–Ω–∏—è –∫–∞–∫ **callback-hell**, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

–í –Ω–∞—á–∞–ª–µ —Å—Ç–∞—Ç—å–µ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏, —á—Ç–æ –Ω–∞—à–∞ —Ü–µ–ª—å —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –≤–µ—Å–æ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π, –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –∏–∑ –Ω–∏—Ö —Å–≤–æ–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç—ã, —Ä–µ—á—å –∏–¥–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –∏–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ —Ç–µ–ª–µ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ.<br>
–î–∞–Ω–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ü–µ–ª—ã–π –≥–æ—Ä–∏–∑–æ–Ω—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ª–µ–≥–∫–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

–í –ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —ç—Ç–æ—Ç —Å–∏–º—É–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥:

```objectivec
 // –ò—Ç–∞–∫ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ —É –Ω–∞—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≥—Ä—É–ø–ø–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è 'downloadMediaOperation'.
  - (IBAction) downloadMediaContent
 {
   self.downloadMediaOperation = [self getAllMediaContent];
   [self.queue addOperation: self.downloadMediaOperation];
 }

 // –¢–∞–∫–∂–µ —É –Ω–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω–∏—Ç—å –µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
 - (IBAction) cancelDownloadingMediaContent
 {
    [self.downloadMediaOperation cancel];
 }
```

–ú–µ—Ç–æ–¥ `getAllMediaContent` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–¥–Ω—É –≥—Ä—É–ø–ø–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –≤ —Ç–µ–ª–µ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–≤–µ –¥—Ä—É–≥–∏—Ö.

–í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∫–æ–Ω–µ—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –≤—Å–µ–≥–æ –æ–¥–Ω—É –≥—Ä—É–ø–ø–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ –∏–º–µ—è —Ç–∞–∫–æ–≥–æ –ø–æ–±–æ—á–Ω–æ–≥–æ —è–≤–ª–µ–Ω–∏—è –∫–∞–∫ `callback-hell`.

```objectivec
 - (GO*) getAllMediaContent
 {
     __block GroupOperation* group =  [GroupOperation groupProgressDescription:nil
                                                                 progressCount:nil
                                                          progressCancellation:nil
                                                               executableBlock:^(GO * _Nonnull groupOp){

        GO* musicOperation = [weak getAllMusicProgressCancellation:^{
                                // –°–ª–µ–¥–∏–º –∑–∞ —Ç–µ–º, —á—Ç–æ –µ—Å–ª–∏ 'group' –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω—Ç, —Ç–æ –∏ –æ—Ç–º–µ–Ω—è–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
                                 if (group.state == RXNO_Cancelled){ [musicOperation cancel]; }
                             }];
        ...

        GO* videoOperation = [weak getAllVideoProgressCancellation:^{
                                // –°–ª–µ–¥–∏–º –∑–∞ —Ç–µ–º, —á—Ç–æ –µ—Å–ª–∏ 'group' –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω—Ç, —Ç–æ –∏ –æ—Ç–º–µ–Ω—è–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
                                if (group.state == RXNO_Cancelled){ [videoOperation cancel]; }
                              }];
        ....
     }];
   return group;
 }
```

<br>

## –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

–°—Ä–µ–¥–∏ –ø—Ä–æ—á–∏—Ö –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –æ–¥–Ω–æ –≥–ª–∞–≤–µ–Ω—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å **—Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞** –∏ **—Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø–µ—Ä—Ç–∏ –∫–ª–∞—Å—Å–∞**.

–ü–æ–¥–æ–±–Ω—ã–π —Ä–∞–¥–∏–∫–∞–ª—å–Ω—ã–π —à–∞–≥ –±—ã–ª –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ä–æ–∂–¥–µ–Ω–∏—è –∫—É—á–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–æ–º—É –∏ –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å `strong` —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è.
<br>
<br>

## –î–µ—Ç–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä—ã –º–æ–¥—É–ª–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

### üåêüïπ APIManager.h <a name="APIManager.h"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –°–æ–∑–¥–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.                                                                                                                                        |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å `API` –ø—Ä–æ–¥—É–∫—Ç–∞.<br/>- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª¬†–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏¬†<Auth2_0_Delegate>.<br/>- –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º, —É–¥–∞–ª—è—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç—å. |

–§—Ä–µ–π–º–≤–æ—Ä–∫ `RXNO` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–∞–∫–æ–π —Å–µ—Å—Å–∏–∏ `NSURLSession` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ `NSURLSessionTask`.<br>
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ—é —Å–µ—Å—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–ø–µ—Ä—Ç–∏ –∫–ª–∞—Å—Å–∞.<br>
–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ, –º—ã –∏–º–µ–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–∫–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏ —Ç–æ–≥–¥–∞ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ `NSURLSessionTask`.

–ë–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω–æ —ç—Ç–æ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –Ω–∞ –¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ:

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme4.png">
</p>

–ö–∞–∫ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –≤ –º–µ—Ç–æ–¥–µ `start` –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `prioritySession`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Å–µ—Å—Å–∏—é –∏–∑ `privateSession` –µ—Å–ª–∏ –æ–Ω–∞ –±—ã–ª–∞ –ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –∞ –µ—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `defaultSession`.

–ò–º–µ–Ω–Ω–æ –¥–ª—è –ø–æ–¥–æ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –∫–ª–∞—Å—Å `APIManager` —Ö—Ä–∞–Ω–∏—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –¥–µ—Ñ–æ–ª—Ç–Ω—É—é —Å–µ—Å—Å–∏—é. 
–ß—Ç–æ–±—ã –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–≥–ª–∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é –∏ –Ω–∞ –µ–µ –±–∞–∑–µ —Å–æ–∑–¥–∞—Ç—å –Ω—É–∂–Ω—É—é –∑–∞–¥–∞—á—É.

```objectivec
#pragma mark - URLSession

@property (class, nonatomic, readonly, strong) NSURLSession* defaultSession;
```

–¢–∞–∫–æ–π —Å–ª—É—á–∞–π –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—É–ø–∏—Ç—å –∫–æ–≥–¥–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –µ—Å—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –±–∞–Ω–∫–æ–≤—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–î–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–¥–Ω–∏–º –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –∑–∞–ø—Ä–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ª—é–±—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —ç—Ç–æ–º—É –∑–∞–ø—Ä–æ—Å—É, –¥–ª—è —á–µ–≥–æ –≤–∞–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏ –ø—Ä–∏–¥–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é —Å —ç—Ñ–µ–º–µ—Ä–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π `[NSURLSessionConfiguration ephemeralSessionConfiguration]`.

–ö —Å–ª–æ–≤—É —Å–∫–∞–∑–∞—Ç—å –≤ –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏ `APIManager` –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å–µ—Å—Å–∏—é –∫–ª–∞—Å—Å–∞, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –º–Ω–æ–≥–æ, –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π.

---

<br>

–î–∞–ª–µ–µ –º—ã –∏–º–µ–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–≤—É—Ö –æ—á–µ—Ä–µ–¥–µ–π `NSOperationQueue`, –æ–Ω–∏ –Ω—É–∂–Ω—ã –ø–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –Ω–∞—à–∏ —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ `NSOperation`.

–û—á–µ—Ä–µ–¥—å `aSyncQueue` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
–ê  `syncQueue` –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

```objectivec
#pragma mark - Queues
@property (class, nonatomic, readonly, strong) NSOperationQueue* aSyncQueue;
@property (class, nonatomic, readonly, strong) NSOperationQueue* syncQueue;
```

----

<br>

–ü–æ—Å–ª–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–µ–π –∏–¥–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –ø—Ä–æ–ø–µ—Ä—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞.

```objectivec
#pragma mark - BaseURL & EndPoint
/*--------------------------------------------------------------------------------------------------------------
  –¢—É—Ç –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –Ω–∞–º–µ—Ä–∏–≤–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–¥—Ä–µ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
  –ù–∞–ø—Ä–∏–º–µ—Ä: 'https://api.vk.com/method/'
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, strong, nullable) NSString* baseURL;

/*--------------------------------------------------------------------------------------------------------------
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–≤—É—Ö —Å—Ç—Ä–æ–∫. 'baseURL' –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ 'method'.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSString*) baseURLappend:(NSString*)method;


#pragma mark - Customization
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 'APIManager'a –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.
 –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–¥–∞—Ç—å –Ω–µ–∫–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
 –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –≤—ã–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–Ω—É—Ç—Ä–∏ 'didFinishLaunchingWithOptions:..'.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) prepareAPIManagerBeforeUsing:(nullable void(^)(void))completion;
```

---

<br>

–î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–ø–µ—Ä—Ç–∏ —Ö—Ä–∞–Ω—è—â–∏–µ —Ç–æ–∫–µ–Ω –∏ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º.

```objectivec
#pragma mark - Token Property
/*--------------------------------------------------------------------------------------------------------------
  –ü—Ä–æ–ø–µ—Ä—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç –º–æ–¥–µ–ª—å —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
  –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–æ –≥–µ—Ç—Ç–µ—Ä –ø—Ä–æ–ø–µ—Ä—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ 'KeyChain'.
 --------------------------------------------------------------------------------------------------------------*/
@property (class, nonatomic, strong, nullable) Token* token;


#pragma mark - Token Access Methods

+ (BOOL) isThereTokenInKeychain;                //  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'YES' –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –±—ã–ª –∑–∞–ø–∏—Å–∞–Ω –≤ 'KeyChain'
+ (nullable Token*) restoreTokenFromKeychain;   //  –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª—å —Ç–æ–∫–µ–Ω–∞ –∏–∑ 'KeyChain'

+ (void)     removeTokenInKeychain;             //  –£–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ 'KeyChain'
+ (NSError*) saveTokenInKeychain:(Token*)token; //  –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ 'KeyChain'

/*--------------------------------------------------------------------------------------------------------------
  –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
  –ú–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–∞–º–æ–º –ø—Ä–æ–ø–µ—Ä—Ç–∏ 'token', –∞ —Ç–∞–∫–∂–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –≤ 'KeyChain'.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) updateToken:(NSString*)accessToken expiresAfter:(NSString*)expiresAfter userID:(NSString*)userID;
```

---

–ù–∏–∂–µ –∏–¥–µ—Ç —Å–µ–∫—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ `<Auth2_0_Delegate>`.<br>
–ö–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞.

```objectivec
#pragma mark - <Auth2_0_Delegate>
/*--------------------------------------------------------------------------------------------------------------
 'AuthViewController' –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —É —Å–≤–æ–µ–≥–æ –¥–µ–ª–µ–≥–∞—Ç–∞ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–º—É –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) receiveTokenFromWebViewAuth:(nullable Token*)token error:(nullable NSError*)error;

/*--------------------------------------------------------------------------------------------------------------
 –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ APIManager, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –Ω–µ—É–¥–∞—á–Ω–æ –ø–æ –ø—Ä–∏—á–∏–Ω–µ 
 —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ —Ç–æ–∫–µ–Ω–∞. –í–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ 'Router', –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç 'AuthViewController'. 
 –í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–∂–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ 'receiveTokenFromWebViewAuth' —É —Å–≤–æ–µ–≥–æ –¥–µ–ª–µ–≥–∞—Ç–∞,
 –∫–æ—Ç–æ—Ä—ã–º —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å APIManager.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) authenticationProcess:(nullable AuthenticationCompletion)completion;
```

----

<br>

–í –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ–∫—Ü–∏–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `Network Operations`, —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º.

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ –ø—Ä–∏–º–µ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–æ–ª—É—á–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.<br>
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1) –í—Å–µ –º–µ—Ç–æ–¥—ã —è–≤–ª—è—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –º–µ—Ç–æ–¥–∞–º–∏ –∫–ª–∞—Å—Å–æ–≤.

2) –í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ç–æ—Ä—ã–µ, –ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å. 
   –ï—Å–ª–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö, –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –æ–±—ä—è–≤–∏—Ç—å –æ–¥–∏–Ω `:(nullable NSDictionary<NSString*,id>*)properties` .

3) –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã `DTO,DO,UO`, –∞ —Ç–∞–∫–∂–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `GO`.

```objectivec
#pragma mark - Network Operations
/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) usersGet:(NSArray<NSString*>*)userIDs
           fields:(NSArray<NSString*>* _Nullable)fields
       completion:(nullable void(^)(NSArray<UserProfile*>* _Nullable userProfiles, BO* op))completion;


/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π —Å–æ —Å—Ç–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) wallGet:(nullable NSString*)ownerID
          offset:(NSInteger)offset
           count:(NSInteger)count
          filter:(nullable NSString*)filter
      completion:(nullable void(^)(NSArray<WallPost*>* _Nullable wallPosts, BO* op))completion;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
 –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –Ω–µ –±–æ–ª–µ–µ 6 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –º–µ—Ç–æ–¥–µ.
 --------------------------------------------------------------------------------------------------------------*/
+ (GO*) uploadImages:(NSArray<NSData*>*)imagesData
              userID:(nullable NSString*)userID
             groupID:(nullable NSString*)groupID
          completion:(nullable void(^)(NSArray<NSDictionary*>* _Nullable savedImages, GO* op))completion;

/*--------------------------------------------------------------------------------------------------------------
 –°–æ–≤–µ—Ä—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É. –£–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã cookie –≤ 'WKWebsiteDataStore'.
 –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ 'APIManager.token' –∏ —É–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ 'KeyChain'.
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) logout:(nullable void(^)(void)) completion;
```

----

<br>

–ò –Ω–∞–∫–æ–Ω–µ—Ü –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–Ω–æ—Å—è—Ç —Ä–∞–∑–Ω—ã–π –∫–æ–¥ —Å —Ü–µ–ª—å—é –∏–∑–±–µ–≥–∞–Ω–∏—è –µ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

```objectivec
#pragma mark - Helpers - Syntax Sugar
/*--------------------------------------------------------------------------------------------------------------
 –ù–∏–∂–µ –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–¥–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ç–µ–≤—ã–º —Å–ª–æ–µ–º.
 --------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ–±—ã –ø—Ä–µ–∫—Ä–∞—â–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –±—ã–ª–∞
 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π. –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π 'completion' –±–ª–æ–∫, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç 'error'.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError*) callCompletion:(nullable void(^)(NSError* _Nullable error))completion ifOccuredErrorInOperation:(BO*)op;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.
 –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ 'completion' –±–ª–æ–∫–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ APIManager.
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError*) callCompletionWithTwoArg:(nullable void(^)(NSError* _Nullable error, id _Nullable arg1))completion ifOccuredErrorInOperation:(BO*)op;

+ (NSError*) callCompletionWithThreeArg:(nullable void(^)(NSError* _Nullable error, id _Nullable arg1, id _Nullable arg2))completion ifOccuredErrorInOperation:(BO*)op;
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [APIManager.h](CodeSnippets(RU)/APIManager.h)
<br><br>

### üìÑ –§–∞–π–ª APIConsts.h <a name="–§–∞–π–ª-APIConsts.h"></a>

–í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –º—ã –æ–±—ä—è–≤–ª—è–µ–º –≤—Å–µ `typedef` —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ –∏ –±–ª–æ–∫–æ–≤, –º–∞–∫—Ä–æ—Å—ã `#define` –∏ –°–ò-—Ñ—É–Ω–∫—Ü–∏–∏.

```objectivec
#ifndef APIConsts_h
#define APIConsts_h

/*--------------------------------------------------------------------------------------------------------------
 (üìÑ) File 'APIConsts.h' - —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
 --------------------------------------------------------------------------------------------------------------*/

@class  APIManager;
typedef APIManager API;

@class  NetworkRequestConstructor;
typedef NetworkRequestConstructor NRC;

typedef void(^AuthenticationCompletion)(NSError* _Nullable error);


/*--------------------------------------------------------------------------------------------------------------
–ú–∞–∫—Ä–æ—Å —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –ù–æ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–º–µ–µ—Ç—Å—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤—ã–≤–æ–¥–∏—Ç—å 
–ª–æ–≥–∏ –≤–æ –≤—Ä–µ–º—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä: –í–∞–ª–∏–¥–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —à–∞–±–ª–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –¥–∏—Å–∫–µ –∏ –ø–æ—ç—Ç–æ–º—É
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –¥–∞–∂–µ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞.
 --------------------------------------------------------------------------------------------------------------*/
#if __has_feature(objc_arc)
#define APILog(FORMAT, ...) fprintf(stderr,"%s %s\n", [[NSString stringWithFormat:@"%s",__PRETTY_FUNCTION__] UTF8String], [[NSString stringWithFormat:FORMAT, ##__VA_ARGS__] UTF8String]);
#else
#define APILog(format, ...) CFShow([NSString stringWithFormat:@"%s %@",__PRETTY_FUNCTION__, [NSString stringWithFormat:format, ## __VA_ARGS__]]);
#endif

#endif
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [APIConsts.h](CodeSnippets(RU)/APIConsts.h)
<br><br>

### üìÑ –§–∞–π–ª APIMethods.h <a name="–§–∞–π–ª-APIMethods.h"></a>

–•–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ß—Ç–æ –º—ã –∏ —Å–¥–µ–ª–∞–µ–º, –æ–±—ä—è–≤–∏–≤ –≤ —Ñ–∞–π–ª–µ `APIMethods.h` –≤—Å–µ –º–µ—Ç–æ–¥—ã –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞—à —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π.

–ü–æ–º–∏–º–æ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Ñ–∞–π–ª –∏–º–µ–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö –∂–µ —Å–∞–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —É–∂–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `enum`.
–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –æ–±—â–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—â–∏—Ö —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

```objectivec
#ifndef APIMethods_h
#define APIMethods_h

/*--------------------------------------------------------------------------------------------------------------
 (üìÑ) File 'APIMethods.h' - —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è API –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 'APIManager'
 --------------------------------------------------------------------------------------------------------------*/

#pragma mark - Enum API Part
/*--------------------------------------------------------------------------------------------------------------
 –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è API –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 'APIManager'.
 –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤ 'NetworkRequestConstructor' –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.
 --------------------------------------------------------------------------------------------------------------*/
typedef NS_ENUM(NSInteger, APIMethod) {

    APIMethod_Unknow = 0,
    APIMethod_UserGet,
    APIMethod_FriendsGet,

    APIMethod_WallGet,
    APIMethod_WallPost,

    APIMethod_PhotosGetAll,
    APIMethod_PhotosGetWallUploadServer,
    APIMethod_PhotosSaveWallPhoto,

    APIMethod_Logout
};


#pragma mark - String Constants API Part
/*--------------------------------------------------------------------------------------------------------------
  –°—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–µ EndPoint –Ω–∞–∑–≤–∞–Ω–∏–µ API-–º–µ—Ç–æ–¥–æ–≤.
  –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º 'NetworkRequestConstructor' –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ NSURLRequest.
 --------------------------------------------------------------------------------------------------------------*/
static NSString *const usersGet = @"users.get"; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
static NSString *const wallGet  = @"wall.get";  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
static NSString *const wallPost = @"wall.post"; // –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –Ω–∞ —Å—Ç–µ–Ω–µ,

static NSString *const photosGetAll  = @"photos.getAll"; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –∞–Ω—Ç–∏-—Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ.
static NSString *const friendsGet    = @"friends.get";   // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥—Ä—É–∑—å—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


static NSString *const photosGetWallUploadServer = @"photos.getWallUploadServer"; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–∞ —Å—Ç–µ–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.
static NSString *const photosSaveWallPhoto       = @"photos.saveWallPhoto";       // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ URI, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥–æ–º

static NSString *const logout = @"auth.logout";

#endif 
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [APIMethods.h](CodeSnippets(RU)/APIMethods.h)
<br><br>

### üèóüß± NetworkRequestConstructor <a name="NetworkRequestConstructor"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã 'NSURLRequest' –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API |
| ----------------------- | --------------------------------------------------------- |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤                           |

–§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

1. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–π –≤–∞–º –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—â–∏–π –º–µ—Ç–æ–¥ `+buildRequestForMethod:properties:.`<br>
   –í –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –µ–Ω—É–º–∞ `APIMethod` –∏–∑ —Ñ–∞–π–ª–∞ `APIMethods.h`, –∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `properties` –≤—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

2. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–π –≤–∞–º –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ `API` —Ñ—É–Ω–∫—Ü–∏—é.<br>
   –ö–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–∂–µ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ –ø–æ–¥–≤–∏–¥–∞:
   
   - –ü–µ—Ä–≤—ã–π –≤–∏–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—ã—Ä—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (`int`/`nsstring`/`float`/–∏—Ç–¥) –∏ —Å–∞–º —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å.
   
   - –í—Ç–æ—Ä–æ–π –≤–∏–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π —Å–ª–æ–≤–∞—Ä—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∏ –≤ —Å–ª—É—á–∞–µ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

```objectivec
@interface NetworkRequestConstructor : NSObject

#pragma mark - Shared method

/*--------------------------------------------------------------------------------------------------------------
 ü•á –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSMutableURLRequest*) buildRequestForMethod:(APIMethod)method
                                             properties:(nullable NSDictionary<NSString*,id>*)properties;

#pragma mark - Individual methods
#pragma mark - APIMethod - users.get

/*--------------------------------------------------------------------------------------------------------------
 ‚≠êÔ∏è –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
 -------
 üì• –§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏–∑ –ø—Ä–∏—à–µ–¥—à–µ–≥–æ —Å–ª–æ–≤–∞—Ä—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

 - user_ids  : [81313]
 - fields    : [photo_50,photo_100,online,last_seen,music]
 - name_case : Nom
 -------
 üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://vk.com/dev/users.get
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSMutableURLRequest*) buildRequestForMethod_UsersGet:(nullable NSDictionary<NSString*,id>*)properties;

+ (nullable NSMutableURLRequest*) buildRequestForMethod_UsersGet:(nullable NSArray<NSString*>*)userIds
                                                          fields:(nullable NSArray<NSString*>*)fields
                                                        nameCase:(nullable NSString*)nameCase;


#pragma mark - APIMethod - wall.get

/*--------------------------------------------------------------------------------------------------------------
 ‚≠êÔ∏è –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–µ–Ω—ã.
 -------
 üì• –§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏–∑ –ø—Ä–∏—à–µ–¥—à–µ–≥–æ —Å–ª–æ–≤–∞—Ä—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

 - owner_id  : 81313
 - offset    : 0
 - count     : 10
 - filter    : all
 -------
 üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://vk.com/dev/wall.get
 --------------------------------------------------------------------------------------------------------------*/
+ (NSMutableURLRequest* _Nullable) buildRequestForMethod_WallGet:(nullable NSDictionary<NSString*,id>*)properties;

+ (NSMutableURLRequest* _Nullable) buildRequestForMethod_WallGet:(nullable NSString*)ownerID
                                                          offset:(NSInteger)offset
                                                           count:(NSInteger)count
                                                          filter:(nullable NSString*)filter;

#pragma mark - APIMethod - oauth.logout

+ (NSMutableURLRequest*) buildRequestForMethod_logout;

@end
```

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤**

```objectivec
+ (NSMutableURLRequest* _Nullable) buildRequestForMethod_FriendsGet:(nullable NSString*)ownerID
                                                              order:(nullable NSString*)order
                                                             fields:(NSArray<NSString*>* _Nullable)fields
                                                              count:(NSInteger)count
                                                             offset:(NSInteger)offset
{
    NSMutableDictionary* properties = [NSMutableDictionary new];

    properties[@"user_id"] = (ownerID.length  > 0) ? ownerID  : APIManager.token.userID;
    properties[@"offset"]  = [NSString stringWithFormat:@"%d",(int)offset];
    properties[@"count"]   = (count > 0) ? [NSString stringWithFormat:@"%d",(int)count] : @"1";
    return [NRC buildRequestForMethod_FriendsGet:properties];
}


+ (NSMutableURLRequest* _Nullable) buildRequestForMethod_FriendsGet:(nullable NSDictionary<NSString*,id>*)properties
{
    // –°–æ–∑–¥–∞–µ–º —Å–≤–æ–π —Å–ª–æ–≤–∞—Ä—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Å —Ü–µ–ª—å—é –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    // –Ω–µ –ø–µ—Ä–µ–¥–∞–ª –∏—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
    NSMutableDictionary* params = [NSMutableDictionary new];
    params[@"user_id"] = APIManager.token.userID;
    params[@"offset"]  = @"0";
    params[@"count"]   = @"1";

    params[@"order"]   = @"hints";
    params[@"fields"]  = @[@"photo_50",@"photo_100"];

    params[@"name_case"]    =  @"nom";
    params[@"v"]            =  @"5.21";
    params[@"access_token"] =  APIManager.token.access_token;

    // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–ª–æ–≤–∞—Ä—å –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —à–∞–±–ª–æ–Ω–æ–º.
    // –ï—Å–ª–∏ –æ–¥–Ω–æ –∏ —Ç–æ–∂–µ –ø—Ä–æ–ø–µ—Ä—Ç–∏ –µ—Å—Ç—å –≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ä—è—Ö, —Ç–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è –∫–æ—Ç–æ—Ä—ã–π
    // –ø–µ—Ä–µ–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–∞ 
    if ((properties.allKeys.count > 0) || (properties != nil)){
        params = (NSMutableDictionary*)[params mergeWithHighPriority:properties isConcatenateArrays:YES];
    }

    // –§–æ—Ä–º–∏—Ä—É–µ–º request
    NSMutableURLRequest* request =
    [BO createRequestWithURL:[API baseURLappend:friendsGet] HTTPMethod:GET params:params headers:nil];
    return request;
}
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: 

| –•–µ–¥–µ—Ä —Ñ–∞–π–ª                                                                  | –§–∞–π–ª –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏                                                          |
| --------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| [NetworkRequestConstructor.h](CodeSnippets(RU)/NetworkRequestConstructor.h) | [NetworkRequestConstructor.m](CodeSnippets(RU)/NetworkRequestConstructor.m) |

<br><br>

### üñ®üßæ Templater <a name="Templater"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –æ–±—Ä–∞–∑—Ü—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ .json —Å –¥–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | -¬†–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–ª–∞—Å—Å–æ–º `TemplaterFileManager` –∫–æ—Ç–æ—Ä—ã–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π.<br/><br/>- –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å/–ß–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `NSUserDefault`.<br/><br/>-¬†–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä–∏ –∏–∑ `json` —Ñ–∞–π–ª–æ–≤ –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.<br/><br/>-¬†–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –≤ –ø–µ—Å–æ—á–Ω–∏—Ü—É –ø–æ –∏–º–µ–Ω–∏ `API` –º–µ—Ç–æ–¥–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–≤–µ—Ä—à–µ–Ω –∑–∞–ø—Ä–æ—Å.<br/><br/>-¬†–£–¥–∞–ª—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω, –ø–æ –∏–º–µ–Ω–∏ `API` –º–µ—Ç–æ–¥–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–≤–µ—Ä—à–µ–Ω –∑–∞–ø—Ä–æ—Å.<br/><br/>- –£–¥–∞–ª—è—Ç—å –≤—Å–µ —à–∞–±–ª–æ–Ω—ã —Å –¥–∏—Å–∫–∞.<br/><br/>-¬†–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –ø–∞–ø–∫—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –≤ –¥—Ä—É–≥–∏–µ –ª–æ–∫–∞—Ü–∏–∏. |

–í –¥–∏–∞–≥—Ä–∞–º–º–µ –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤—Å–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è, –º–æ–¥—É–ª—å `Templater` —Å—Ç–æ—è–ª –Ω–∏–∂–µ —á–µ–º `Validator`, –æ–¥–Ω–∞–∫–æ —Å—É—Ç—å —Ä–∞–±–æ—Ç—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ —Ç—è–∂–µ–ª–æ –ø–æ–Ω—è—Ç—å –±–µ–∑ –∑–Ω–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ä–∞–±–æ—Ç—ã `Templater`.

–ù–∏–∂–µ –º—ã –º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ `APIManager`.<br> 
–ü–æ—Å–ª–µ —É–¥–∞—á–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞, –∫—É–¥–∞ –ø–µ—Ä–µ–¥–∞–µ–º —Å–∞–º `json` –∏ –∑–Ω–∞—á–µ–Ω–∏—è –µ–Ω—É–º–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ `API` –º–µ—Ç–æ–¥–∞.<br> 

–î–∞–ª–µ–µ `Validator` —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Templater`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑–µ—Ü –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞.<br> 
–í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ–∫–∞–∂–µ—Ç—Å—è –Ω—É–∂–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü, –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.<br> 

–ï—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–æ–π–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ, —Ç–æ –º–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `validateResponse:fromAPIMethod:` –≤–µ—Ä–Ω–µ—Ç `nil`, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –æ—à–∏–±–∫–∞.<br> 

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme5.png">
</p>


–ù–µ –±—É–¥–µ–º –≤–¥–∞–≤–∞—Ç—å—Å—è –≤ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è, –ø–æ –ø—Ä–∏—á–∏–Ω–µ —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–æ –ø—Ä—è–º–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Ä–∞–±–æ—Ç–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –Ω–µ –∏–º–µ—é—Ç.

–û–¥–Ω–∞–∫–æ —Å–ª–µ–¥—É–µ—Ç —Å–∫–∞–∑–∞—Ç—å –æ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Å.

1. –ï—Å–ª–∏ –≤—ã –∏–º–µ–µ—Ç–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∑–∞—à–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–æ —Å–∞–º—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞ —Å –∏–º–µ–Ω–µ–º `APIManagerResponseDefaultTemplates.zip`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `Bundle` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.<br> 
   –ê –ø–æ—Å–ª–µ –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ `unarchiveFolderWithDefaultTemplates`, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã –≤—ã–∑–æ–≤–∏—Ç–µ –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ç–æ –∞—Ä—Ö–∏–≤ –∑–∞–Ω–æ–≤–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –Ω–µ –±—É–¥–µ—Ç.<br> 
   –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å–ø–∞–∫–æ–≤—â–∏–∫ –≤–Ω—É—Ç—Ä—å –º–µ—Ç–æ–¥–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `APIManager`'a.
   
   ```objectivec
   + (void) prepareAPIManagerBeforeUsing:(nullable void(^)(void))completion
   {
       ...
      [Templater unarchiveFolderWithDefaultTemplates:nil completion:^(NSError * _Nonnull error) {
           if (error) APILog(@"unarchiveFolderWithDefaultTemplates error: %@",error);
       }];
       if (completion) completion();
   }
   ```

2. –ò–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∞–º–æ–º—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ –≥–¥–µ –±—É–¥–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –∞—Ä—Ö–∏–≤. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–∞–ø–∫–∏, –µ—Å–ª–∏ —Ä–µ—à–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –º–µ—Å—Ç–æ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ —Ç–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—É—Ç –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ–≤—É—é –ª–æ–∫–∞—Ü–∏—é.

3. –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è `json` —Å –¥–∏—Å–∫–∞, –æ–±—Ä–∞–∑–µ—Ü –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. 
   –ß—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –ø–æ –¥–∞–Ω–Ω–æ–º—É `API` –º–µ—Ç–æ–¥—É.

4. –¢–∞–∫–∂–µ –µ—Å–ª–∏ –≤—ã –ø–æ –∫–∞–∫–∏–º –ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–µ –∏–º–µ–µ—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª—ã–π –∞—Ä—Ö–∏–≤ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –æ–±—Ä–∞–∑—Ü–∞–º–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –¥–∏—Å–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.

–í—ã—à–µ –±—ã–ª–∏ –∏–∑–ª–æ–∂–µ–Ω—ã —Å–∞–º—ã–µ –≥–ª–∞–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏, –ø–æ—Å–ª–µ —á–µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–∞–º`.h `—Ñ–∞–π–ª. 

```objectivec
@interface Templater : NSObject

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å –Ω–∞ –ø–∞–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª—ã-—à–∞–±–ª–æ–Ω—ã.
 –ï—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞–ø–∫–∏, —Ç–æ –ø–∞–ø–∫–∞ –≤–º–µ—Å—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ.
 --------------------------------------------------------------------------------------------------------------*/
@property (atomic, strong, readonly, class) NSString* pathToTemplateDirectory;

/*--------------------------------------------------------------------------------------------------------------
 –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 'NO'. –ï—Å–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 'YES', —Ç–æ —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –≤ bundle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 --------------------------------------------------------------------------------------------------------------*/
@property (nonatomic, assign, class) BOOL loadTemplateFromBundle;

#pragma mark - Methods
/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–∞–ø–∫–∏ —Å —à–∞–±–ª–æ–Ω–∞–º–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) setNewPathToTemplateDirectory:(NSString*)path;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π json —Ñ–∞–π–ª —Å –¥–∏—Å–∫–∞ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –∏–∑ RAM –ø–∞–º—è—Ç–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSDictionary*) templateForAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—Ä–∞–∑–µ—Ü —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º API –º–µ—Ç–æ–¥–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) writeTemplate:(NSDictionary*)template forAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –£–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞–∑–µ—Ü —Ñ–∞–π–ª–∞ —Å –¥–∏—Å–∫–∞ –∏ –∏–∑ RAM –ø–æ –∏–º–µ–Ω–∏ API –º–µ—Ç–æ–¥–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) removeTemplateForAPIMethod:(APIMethod)method;

/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É —Å–æ –≤—Å–µ–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSError*) removeAllTemplates;


/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å –ø–∞–ø–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö json —Ñ–∞–π–ª–æ–≤ (–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞).
 –ï—Å–ª–∏ —É–∫–∞–∂–∏—Ç–µ nil –≤ –∞—Ä–≥—É–º–µ–Ω—Ç 'atPath', —Ç–æ–≥–¥–∞ –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É –ø–æ –ø—É—Ç–∏ 'Templater.pathToTemplateDirectory'.
 –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ +APIManager.prepareBeforeUsing:,
 –≤–Ω—É—Ç—Ä–∏ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–∏.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) unarchiveFolderWithDefaultTemplates:(nullable NSString*)atPath
                                  completion:(nullable void(^)(NSError* error))completion;

@end
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: 

| –•–µ–¥–µ—Ä —Ñ–∞–π–ª                                                        | –§–∞–π–ª –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏                                                |
| ----------------------------------------------------------------- | ----------------------------------------------------------------- |
| [Templater.h](CodeSnippets(RU)/Templater.h)                       | [TemplaterFileManager.h](CodeSnippets(RU)/TemplaterFileManager.h) |
| [TemplaterFileManager.h](CodeSnippets(RU)/TemplaterFileManager.h) | [TemplaterFileManager.m](CodeSnippets(RU)/TemplaterFileManager.m) |

<br><br>

### üö¶‚öñÔ∏è Validator <a name="Validator"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –ù–∞—Ö–æ–¥–∏—Ç—å¬†–≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –∏ —É–≤–µ–¥–æ–º–∏—Ç—å –æ–± —ç—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.                                                                                                                                 |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | -¬†–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –∫–ª—é—á–∞–º –º–µ—Ç–æ–¥–æ–≤ `API`.<br/>- –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä—É `json`+`APIMethod` –≤ –æ–±—â–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –≤–µ—Ä–Ω–µ—Ç –≤–∞–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç.<br/> |

–ú–æ–¥—É–ª—å `Validator` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –≤–∏–¥–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –≤ —Å–ª–æ–≤–∞—Ä—è—Ö, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–º—ã–µ –ø–æ —ç—Ç–∏–º –∫–ª—é—á–∞–º, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ "–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞".

2. **–†—É—á–Ω–æ–π** - –∫–æ–≥–¥–∞ —Å–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ—à–∞–µ—Ç –∫–∞–∫ –µ–º—É –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞.

–ù–µ—Å–æ–º–Ω–µ–Ω–Ω–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –æ—á–µ–Ω—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º.<br>
–ò –Ω–µ –¥–ª—è –≤—Å–µ—Ö `backend`'–æ–≤ –º–æ–∂–µ—Ç –ø–æ–¥–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.<br>
–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ò—Ç–∞–∫, –Ω–∏–∂–µ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –æ–¥–∏–Ω –æ–±—â–∏–π –º–µ—Ç–æ–¥, –∏ –º–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

```objectivec
@interface Validator : NSObject

#pragma mark - Shared Validation Methods
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å, —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—Ç—å –¥–ª—è json –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–µ—Ç–æ–¥—É API
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponse:(NSDictionary*)recievedJSON fromAPIMethod:(APIMethod)method;


#pragma mark - Automatic Validation (for pair json + template)
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–≤–µ—Ä—è–µ—Ç –ø—Ä–∏—à–µ–¥—à–∏–π json –∏ –æ–±—Ä–∞–∑–µ—Ü —Å –¥–∏—Å–∫–∞.
 –í —Å–ª—É—á–∞–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–π - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É.

 –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö:
 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –∏–∑ —à–∞–±–ª–æ–Ω–∞ –≤ json.
 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (—á—Ç–æ–±—ã –ø–æ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –∫–ª—é—á—É –±—ã–ª–∏ –±—ã–ª –æ–¥–∏–Ω —Ç–∏–ø).

 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
  3. –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç "–ø—Ä–∞–≤–∏–ª–∞" –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –æ–Ω–∏ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
     –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ json –Ω–∞ –¥–ª–∏–Ω—É,—Å–æ–æ—Ç–≤–µ—Å—Ç–≤–∏–µ,—Å—É—Ñ—Ñ–∏–∫—Å—É –∏—Ç–¥.
     –î–ª—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–ª–æ–≤–∞—Ä—å –ø—Ä–∞–≤–∏–ª —Å –µ–≥–æ –∏–º–µ–Ω–µ–º (–Ω–∞–ø—Ä: "age-Rules").
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) automaticValidateResponse:(NSDictionary*)recievedJSON
                                        template:(NSDictionary*)templateJSON
                                  validationMask:(ResponseValidationMask)mask
                                   fromAPIMethod:(APIMethod)method;
...

@end
```

–ü–æ—Å–ª–µ –Ω–∏—Ö –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö `API` –º–µ—Ç–æ–¥–æ–≤.

–ü—Ä–∞–≤–∏–ª–∞ –Ω—ç–π–º–∏–Ω–≥–∞ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º:`validateResponseFrom_`+ `–Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ API`.

```objectivec
#pragma mark - Specified Validation Method (for specific API method)

/*--------------------------------------------------------------------------------------------------------------
  –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "users.get".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_usersGet:(NSDictionary*)recievedJSON;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "wall.get".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_wallGet:(NSDictionary*)recievedJSON;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "photos.getAll".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_photosGetAll:(NSDictionary*)recievedJSON;

/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "friends.get".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_friendsGet:(NSDictionary*)recievedJSON;
```

<br>

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞**

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.<br>
–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç—É—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–∞—Å—Ç–æ–º–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, –∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —à–∞–±–ª–æ–Ω–∞ –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–æ–º
–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Å–≤–µ—Ä–∏—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π `json` –∏ –µ–≥–æ –æ–±—Ä–∞–∑–µ—Ü —Å –¥–∏—Å–∫–∞ –ø–æ –¥–µ—Å—è—Ç–∫—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "users.get".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_usersGet:(NSDictionary*)recievedJSON
{
    // –ü—Ä–æ–±—É–µ—Ç –Ω–∞–π—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
    NSDictionary* template = [Templater templateForAPIMethod:APIMethod_UserGet];
    // –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ, –∑–Ω–∞—á–∏—Ç –Ω–µ —Å —á–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å
    if (!template) return nil;


    // –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç, —Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    NSError* error = [Validator automaticValidateResponse:recievedJSON
                                                 template:template
                                           validationMask:AllChecks
                                            fromAPIMethod:APIMethod_UserGet];
    return error;
}
```

<br>

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**

```objectivec
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–∞ "friends.get".
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) validateResponseFrom_friendsGet:(NSDictionary*)recievedJSON
{
    if !(recievedJSON[@"response"]) 
         return [NSError errorWithDomain:@"hasn't 'response' in json from 'friends.get'" code:0 userInfo:nil];

  return nil;
}
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö**

–í—ã—à–µ –≤—ã —É–∂–µ –º–æ–≥–ª–∏ —É–≤–∏–¥–µ—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –º–µ—Ç–æ–¥–µ –≤—ã–ø–æ–ª–Ω—è—é—â–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, —Ç–µ–ø–µ—Ä—å –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∏–º –ø–æ–±–ª–∏–∂–µ.<br>
–ò—Ç–∞–∫, –æ–¥–∏–Ω –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥ —ç—Ç–æ –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞.<br> 
–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ—Ç –Ω–∞–±–æ—Ä —Ñ–ª–∞–≥–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–ª—É—á–∞–µ.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
  –ë–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞.
 --------------------------------------------------------------------------------------------------------------*/
typedef NS_OPTIONS(NSUInteger, ResponseValidationMask) {

    CheckOnKeys           = 1 << 0, // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –∏–∑ —à–∞–±–ª–æ–Ω–∞ –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–º json –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
    CheckSubEntityOnKeys  = 1 << 1, // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –∏–∑ —à–∞–±–ª–æ–Ω–∞ –≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö
    CheckOnTypesOfValues  = 1 << 2, // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–ª—é—á–∞–º
    CheckOnExtendedRules  = 1 << 3, // –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞ (–µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã –≤ —à–∞–±–ª–æ–Ω–µ)

    AllChecks = CheckOnKeys | CheckSubEntityOnKeys | CheckOnTypesOfValues | CheckOnExtendedRules
};
```

---

‚ö†Ô∏è **–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –ª–∏—à—å –æ–¥–Ω–æ –≤–∞–∂–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ**. 

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–ø–æ—Å–æ–±–Ω—ã <u><mark>–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–∞—Ä–∏</mark></u>. –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç, –ø–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.<br>
–ü–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤, –∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —É–≤—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è.<br>
–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –±—É–¥–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –≤ –º–µ—Ç–æ–¥—ã –∞–≤—Ç.–≤–∞–ª–∏–¥–∞—Ü–∏–∏.

---

–ï—Å–ª–∏ –≤—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–ª–∏ –≤–µ—Å—å —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ, —Ç–æ –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ "**—Å–ª–æ–≤–∞—Ä—å –ø—Ä–∞–≤–∏–ª**".<br>
–î–∞–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ <u>–¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–ø–µ—Ä—Ç–∏</u>.

**–ü—Ä–∏–≤–µ–¥–µ–º  –ø—Ä–∏–º–µ—Ä**:<br>
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º –ø–µ—Ä–µ–¥ –≤–∞–º–∏ —Å—Ç–æ–∏—Ç –∑–∞–¥–∞—á–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞ —é–∑–µ—Ä–∞. –ß—Ç–æ–±—ã –µ–º—É –±—ã–ª–æ –±–æ–ª—å—à–µ `18` –Ω–æ –º–µ–Ω—å—à–µ `27`.<br>
–¢–æ–≥–¥–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞–π—Ç–µ –≤ —à–∞–±–ª–æ–Ω–µ "`—Å–ª–æ–≤–∞—Ä—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏`".<br> 
–ö–ª—é—á –∫ –ø—Ä–∞–≤–∏–ª–∞–º –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–º—è –æ–±—ä–µ–∫—Ç–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Å—É—Ñ—Ñ–∏–∫—Å `-Rules` –Ω–∞ –∫–æ–Ω—Ü–µ.

```objectivec
(Template.json)
{
  "age" : 20,
  "age-Rules" : { "minimum" : 18,
                  "maximum" : 27
                }
}
```

 –ü–æ–ª—É—á–∏–≤ –¥–∞–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏, –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `18-27`.

–ò—Ç–∞–∫, –∏–∑—É—á–∏–≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –º—ã –ø–æ–Ω—è–ª–∏ —á—Ç–æ —Ç–∞–∫–æ–µ "**—Å–ª–æ–≤–∞—Ä—å –ø—Ä–∞–≤–∏–ª**", –∏ –ø–æ –∫–∞–∫–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç.<br> 
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —ç—Ç–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.

---

**üìö –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö** <a name="–û–±—â–∏–µ-–ø—Ä–∞–≤–∏–ª–∞-–¥–ª—è-–≤—Å–µ—Ö-—Ç–∏–ø–æ–≤-–¥–∞–Ω–Ω—ã—Ö"></a>

| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–∞   | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                                                                                                                                                       |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| üëâüèª`isOptional` | (–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞ –≤ –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ - –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –∫–∞–∫ –æ—à–∏–±–∫–∞).<br/><br/>                     –ó–Ω–∞—á–µ–Ω–∏–µ `true` –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª—é—á–∞ –±—É–¥–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—É, —á—Ç–æ –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ä—ã (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)<br/><br/>                     –¥–ª—è —ç—Ç–æ–≥–æ `json` –æ–±—ä–µ–∫—Ç–∞ - —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º. |
| üëâüèª`mustMatch`  | –ó–Ω–∞—á–µ–Ω–∏–µ `true` —Ç—Ä–µ–±—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ —à–∞–±–ª–æ–Ω–∞, —Å —Ç–µ–º —á—Ç–æ –ø—Ä–∏—à–ª–æ —Å —Å–µ—Ä–≤–µ—Ä–∞.<br/><br/>                    –î–∞–Ω–Ω—ã–π –∫–ª—é—á –ø—Ä–∏–º–µ–Ω–∏–º –∫–æ –≤—Å–µ–º —Å–ª–µ–¥—É—é—â–∏–º —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (`Strings/Numbers/Dictionaries/Arrays`).                                                                                      |

**–ü—Ä–∏–º–µ—Ä**<br>
–ö–∞–∫ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –∏–∑ —à–∞–±–ª–æ–Ω–∞ –Ω–∏–∂–µ, —Ç–æ –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É `favouriteFilm` –≤ –ø—Ä–∏—à–µ–¥—à–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–≤–µ—Ç–µ, —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.<br>
–ê –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É `jurisdiction`, –º–∞–ª–æ —Ç–æ–≥–æ —á—Ç–æ, –¥–æ–ª–∂–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–Ω—è—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è –ø—Ä–∞–≤–∏–ª, —Ç–æ –µ—Å—Ç—å `US`.

```objectivec
(Template.json)
{
 "favouriteFilm"         : "Avatar 2010",
 "favouriteFilm-Rules" : {
                            "isOptional" : true
                          },

"jurisdiction"       : "US",
"jurisdiction-Rules" : {
                         "mustMatch" : true,
                       }
}
```

---

<br>

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ "üÖ∞Ô∏èüÖ±Ô∏è" Strings** <a name="–ü—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Strings"></a>

| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–∞                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                               |
| ------------------------------------ | ---------------------------------------------------------------------- |
| üëâüèª`equalInLength`                  | –°–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º —á—Ç–æ–±—ã –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —à–∞–±–ª–æ–Ω–µ –∏ –≤ `json` –±—ã–ª–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞.  |
| üëâüèª`lengthMustBeEqualOrGreaterThan` | –î–ª–∏–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `json` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ —ç—Ç–æ–π —Ü–∏—Ñ—Ä–µ.       |
| üëâüèª`lengthMustBeEqualOrLessThan`    | –î–ª–∏–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `json` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ —ç—Ç–æ–π —Ü–∏—Ñ—Ä–µ.       |
| üëâüèª`hasSuffix`                      | –ó–Ω–∞—á–µ–Ω–∏–µ –≤ `json` –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–π —Å—É—Ñ—Ñ–∏–∫—Å.                     |
| üëâüèª`matchWithOneOf`                 | –ó–Ω–∞—á–µ–Ω–∏–µ –≤ `json` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º –æ–¥–Ω–æ–º—É –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ. |

**–ü—Ä–∏–º–µ—Ä**

–û–¥–∏–Ω –∏–∑ —Ö—Ä–µ—Å—Ç–æ–º–∞—Ç–∏–π–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —ç—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏—à–µ–¥—à–µ–≥–æ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞.<br>
–î–æ–ø—É—Å—Ç–∏–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ–≥–æ 4 —Ü–∏—Ñ—Ä—ã, —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ –≤–∞–º –ø—Ä–∏–¥–µ—Ç –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ, —Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –æ—à–∏–±–∫–æ–π. 

```json
(Template.json)
{
  "crediCardPassCode"       : "4321",
  "crediCardPassCode-Rules" : {
                               "equalInLength" : true
                              },

  "userPassword"       : "qwerty123",
  "userPassword-Rules" : {
                          "lengthMustBeEqualOrGreaterThan" : 6,
                          "lengthMustBeEqualOrLessThan"    : 20
                         },

  "rootClass"       : "NSObject",
  "rootClass-Rules" : {
                       "hasSuffix" : "NS"
                      }

 "continents"       : "Europe",
 "continents-Rules" : {
                       "matchWithOneOf" : ["Africa","Antarctica","Asia","Europe","North America","Australia","South America"]
                      }
}
```

---

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞  [üçè üçé üçä] Arrays** <a name="–ü—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Arrays"></a>

 –ü–æ–º–∏–º–æ –±–∞–∑–æ–≤—ã—Ö –∫–ª—é—á–µ–π (`isOptional` –∏ `mustMatch`) –º–∞—Å—Å–∏–≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –µ—â–µ –¥–≤–∞ –¥—Ä—É–≥–∏—Ö.

| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–∞                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
| ------------------------------------ | ----------------------------------------------------------------------- |
| üëâüèª `elementsMustBeEqualOrMoreThan` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ —ç—Ç–æ–π —Ü–∏—Ñ—Ä–µ. |
| üëâüèª `elementsMustBeEqualOrLessThan` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ —ç—Ç–æ–π —Ü–∏—Ñ—Ä–µ. |

**–ü—Ä–∏–º–µ—Ä**<br>
–ù–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —á—Ç–æ–±—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

```json
(Template.json)
{ 
   "carWheels" : ["left-front", "right-front",
                  "left-rear",  "right-rear"],

   "carWheels-Rules" : {
                         "elementsMustBeEqualOrMoreThan" : 4,
                         "elementsMustBeEqualOrLessThan" : 6
                       }
}
```

----

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ {üìñ} Dictionaries** <a name="–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ Dictionaries"></a>

–°–∞–º–∏ –ø–æ —Å–µ–±–µ —Å–ª–æ–≤–∞—Ä–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`isOptional` –∏ `mustMatch`), –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–º –Ω—É–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤–∞—Ä—è.

**–ü—Ä–∏–º–µ—Ä**<br>
–ü—Ä–∞–≤–∏–ª–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ —Å–ª–æ–≤–∞—Ä–µ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª–æ–≤–∞—Ä—è `platform` –≤ –ø—Ä–∏—à–µ–¥—à–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–∂–µ–π—Å–æ–Ω–µ –Ω–µ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –æ—à–∏–±–∫–æ–π, –Ω–æ –µ—Å–ª–∏ —Å–ª–æ–≤–∞—Ä—å –±—É–¥–µ—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–µ–Ω —Å–ª–æ–≤–∞—Ä—é –∏–∑ —à–∞–±–ª–æ–Ω–∞.

```json
(Template.json)
{
 "platform"  :  {
                  "OS"     : "iOS",
                  "device" : "iPhone",
                },

 "platform-Rules" : {
                     "isOptional" : true,
                     "mustMatch"  : true
                    }
}
```

---

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ç–∏–ø–∞ 1Ô∏è‚É£ 2Ô∏è‚É£ 3Ô∏è‚É£ Number** <a name="–ü—Ä–∞–≤–∏–ª–∞-–¥–ª—è-—Ç–∏–ø–∞-Number"></a>

–ö–∞–∫ –±—ã–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ –≤–æ –≤–≤–µ–¥–µ–Ω–∏–∏, —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `json` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.<br>
 (‚ö†Ô∏è) –ë—É–ª–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é.

---

**üõ£üóø –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**

–ï—Å–ª–∏ –Ω–∞ –¥–∏—Å–∫–µ —É –≤–∞—Å –∏–º–µ–µ—Ç—Å—è `json`-–æ–±—Ä–∞–∑–µ—Ü, –∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è.
–¢–æ –æ—à–∏–±–æ–∫ –Ω–µ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –≤—ã –Ω–µ –±—É–¥–µ—Ç–µ –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∞—Ä—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç–µ –µ—â–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ.

---

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [Validator.h](CodeSnippets(RU)/Validator.h) / [Validator.m](CodeSnippets(RU)/Validator.m) .
<br><br>

### üóÇ üîç Parser <a name="Parser"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –ò–∑–≤–ª–µ–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã                                                                                    |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | -¬†–°–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏. |

`Parser` –ø–æ –ø—Ä–∞–≤—É  –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å —Å–∞–º—ã–º –ø—Ä–æ—Å—Ç—ã–º –º–æ–¥—É–ª–µ–º –≤ —Å–µ—Ç–µ–≤–æ–º —Å–ª–æ–µ.<br> 
–ü–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –ø—Ä–∏–º–µ–Ω–∏–º –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ—Å—Ç–∞—Ç—å –≥–ª—É–±–æ–∫–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.<br>
–û–±—ã—á–Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∏ –º—ã —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–π `json` –ø–µ—Ä–µ–¥–∞–µ–º –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ –º–æ–¥–µ–ª–∏ –≤ –º–æ–¥—É–ª—å `Mapper`.

```objectivec
@interface Parser : NSObject

#pragma mark - Parsing elements from API method 'user.get'
/*--------------------------------------------------------------------------------------------------------------
 –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≤–µ—Ä—à–∏–ª —Å–≤–æ–π –∫—Ä–∞–π–Ω–∏–π —Å–µ–∞–Ω—Å.
 –ò–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ 'UserGet'.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSNumber*) lastSeenPlatformInUserGetMethod:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error;

/*--------------------------------------------------------------------------------------------------------------
 –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏–∑ —Å–ª–æ–≤–∞—Ä—è 'counters' –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –ø–æ–ª—É—á–µ–Ω –≤ –æ—Ç–≤–µ—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ 'UserGet'.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSNumber*) followersInUserGetMethodFromCounter:(NSDictionary*)counters error:(NSError*_Nullable* _Nullable)error;


#pragma mark - Parsing elements from API method 'wall.post'
/*--------------------------------------------------------------------------------------------------------------
  –ò–∑–≤–ª–µ–∫–∞–µ—Ç 'post_id' –∏ json –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ –º–µ—Ç–æ–¥—É 'wall.post'
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSNumber*) postIDInWallPostMethod:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error;

@end
```

–¢–∞–∫ –∂–µ –∫–∞–∫ –∏ –¥—Ä—É–≥–∏–µ, –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –Ω—ç–π–º–∏–Ω–≥–∞.

1. –ù–∞–∑–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥–æ–≤ –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É:`lastSeenPlatform`+`In`+`UserGet` + `Method`.

2. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ —Ü–µ–ª–∏–∫–æ–º —Ç–æ—Ç json –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –ø—Ä–∏—à–µ–ª —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä—è–º–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞, —Ç–æ–≥–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è `json`.

3. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –≤ –º–µ—Ç–æ–¥ —É–∂–µ –∫–∞–∫—É—é-—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∞—Å—Å–∏–≤ counters, —Ç–æ–≥–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–µ–Ω —Ç–∞–∫ –∏ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è - `counters`.

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

```objectivec
#pragma mark - Parsing elements from API method 'wall.post'
/*--------------------------------------------------------------------------------------------------------------
 –ò–∑–≤–ª–µ–∫–∞–µ—Ç 'post_id' –∏ json –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ –º–µ—Ç–æ–¥—É 'wall.post'
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSNumber*) postIDInWallPostMethod:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error
{
    if (json.allKeys.count < 1) { *error = [NSError initWithMsg:@"+postIDInWallPostMethod: received empty json"]; return nil;}

    NSNumber* postID = nil;
    if (json[@"response"]){
        NSDictionary* response = json[@"response"];
        postID = response[@"post_id"];
    }else {
        *error = [NSError initWithMsg:@"+postIDInWallPostMethod: 'json[@\"response\"]' has not found"];
    }
    return postID;
}
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [Parser.h](CodeSnippets(RU)/Parser.h) / [Parser.m](CodeSnippets(RU)/Parser.m) .
<br><br>

### üìÑ ‚û°Ô∏è üíæ Mapper <a name="Mapper"></a>

| –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞          | –°–æ–±–∏—Ä–∞—Ç—å –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ json —Ñ–∞–π–ª–æ–≤           |
| ----------------------- | ------------------------------------------------ |
| **–°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** | -¬†–°–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ `json`. |

–ú–æ–¥—É–ª—å `Mapper` –º–æ–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å –≤—Ç–æ—Ä—ã–º –ø–æ –ª–µ–≥–∫–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–º —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –ø–æ—Å–ª–µ `Parser`'a.<br>
–ü–æ—Å–∫–æ–ª—å–∫—É –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω—ã–º –¥–µ–ª–æ–º, –ø–æ—ç—Ç–æ–º—É –≤–Ω—É—Ç—Ä–∏ –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–µ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É.<br>
–í—ã–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —è–∑—ã–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç –Ω–∞–±–æ—Ä–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.<br>

–ú—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É [FastEasyMapping](https://github.com/Yalantis/FastEasyMapping).

–û–¥–Ω–∏–º –∏–∑ –∫–∞–º–Ω–µ–π –ø—Ä–µ—Ç–∫–Ω–æ–≤–µ–Ω–∏—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è —è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å, –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º –º–∞–ø–ø–∏–Ω–≥–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏.<br>
–ú—ã —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –ø–æ–¥–æ–±–Ω—ã–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –≤ —Å–∞–º–æ–π –º–æ–¥–µ–ª–∏, —á—Ç–æ–±—ã –º–æ–¥—É–ª—å `Mapper` –±—ã–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–º –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º.<br>

**–ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–π –º–∞–ø–ø–∏–Ω–≥**

```objectivec
@class FEMMapping;

/*--------------------------------------------------------------------------------------------------------------
 (üë±üèº‚Äç‚ôÇÔ∏èüë±üèº‚Äç‚ôÄÔ∏èüìã) 'Friend' - –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –¥—Ä—É–≥–∞.
 --------------------------------------------------------------------------------------------------------------*/

@interface Friend : NSObject

@property (nonatomic, strong) NSString* userID;
@property (nonatomic, strong) NSString* first_name;
@property (nonatomic, strong) NSString* last_name;
@property (nonatomic, strong) NSString* photo_50;
@property (nonatomic, strong) NSString* photo_100;

#pragma mark - Mapping
/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –Ω–∞–π—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (FEMMapping *)defaultMapping;

@end
```

```objectivec
@implementation Friend

#pragma mark - Mapping
/*--------------------------------------------------------------------------------------------------------------
 –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –Ω–∞–π—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
 --------------------------------------------------------------------------------------------------------------*/
+ (FEMMapping *)defaultMapping
{
    FEMMapping *mapping = [[FEMMapping alloc] initWithObjectClass:[Friend class]];
    // property from nsobject : keypath from json
    [mapping addAttributesFromDictionary:@{
                                            @"first_name": @"first_name",
                                            @"last_name" : @"last_name",
                                            @"photo_50"  : @"photo_50",
                                            @"photo_100" : @"photo_100"
                                           }];

    FEMAttribute *userIDAttribute =
    [FEMAttribute mappingOfProperty:@"userID" toKeyPath:@"id" map:^id(id value) {
        // NSNumber -> NSDate
        return [(NSNumber*)value stringValue];
    }];
    [mapping addAttribute:userIDAttribute];

    return mapping;
}

@end
```

–ê —Å–∞–º –º–æ–¥—É–ª—å –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫

```objectivec
@interface Mapper : NSObject

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSArray<UserProfile*>*) usersGetFromJSON:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥—Ä—É–∑—å—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSArray<Friend*>*) friendsFromJSON:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error;

@end
```

```objectivec
@implementation Mapper

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSArray<UserProfile*>*) usersGetFromJSON:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error
{
    if (json.allKeys.count < 1) { *error = [NSError initWithMsg:@"+usersGetFromJSON: received empty json"]; return nil;}

    FEMMapping*           objectMapping = [UserProfile defaultMapping];
    NSArray<UserProfile*>* userProfiles = [FEMDeserializer collectionFromRepresentation:json[@"response"] mapping:objectMapping];

    return userProfiles;
}

/*--------------------------------------------------------------------------------------------------------------
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥—Ä—É–∑—å—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSArray<Friend*>*) friendsFromJSON:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error
{
    if (json.allKeys.count < 1) { *error = [NSError initWithMsg:@"+friendsFromJSON: received empty json"]; return nil;}

    FEMMapping*    objectMapping = [Friend defaultMapping];
    NSArray<Friend*>*    friends = [FEMDeserializer collectionFromRepresentation:json[@"items"] mapping:objectMapping];

    return friends;
}

@end
```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [Mapper.h](CodeSnippets(RU)/Mapper.h) / [Mapper.m](CodeSnippets(RU)/Mapper.m) .
<br><br>

### üåêüïπ APIManager.m <a name="APIManager.m"></a>

–î–æ—Ä–æ–≥–∏–µ –∫–æ–ª–ª–µ–≥–∏, –ø—Ä–æ—á–∏—Ç–∞–≤ –≤—Å–µ —Ç–æ, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ –≤—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å–æ –≤—Å–µ–º–∏ –≤—Å–ø–æ–º–æ–≥–∞—é—â–∏–º–∏ –º–æ–¥—É–ª—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É `APIManager`'a.<br>
–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Å–∞–º–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π —á–∞—Å—Ç–∏ —Å—Ç–∞—Ç—å–∏, –≥–¥–µ –±—É–¥—É—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã–º —Å–ª–æ–µ–º.<br>
<br>
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ–±–µ—Å–ø–µ—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –Ω–∞—à–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è, —Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ç–µ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –∏–º–µ–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.<br>
–û–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏ –≥–æ—Ä—è—á–æ –ª—é–±–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –Ω–∞—à–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —è–≤–ª—è–µ—Ç—Å—è `Reachability`, –æ–¥–Ω–∞–∫–æ –¥–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.<br> 
–¢–æ –µ—Å—Ç—å –µ—Å–ª–∏ –≤–∞—à wi-fi —Ä–∞–∑–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª, –Ω–æ –Ω–µ –∏–º–µ–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ç–∏, —Ç–æ `Reachability` –Ω–µ –≤–µ—Ä–Ω–µ—Ç –≤–∞–º –Ω–∏ –æ–¥–Ω–æ–π –æ—à–∏–±–∫–∏.<br>
–ü–æ—ç—Ç–æ–º—É —è –ø—Ä–µ–¥–ª–∞–≥–∞—é –≤–∞–º –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É, –≥–¥–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–∞–ª–∏—á–∏—è —Å–µ—Ç–∏, —Ä–∞–∑–±–∏—Ç—ã –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.<br>

| **–°–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è —Å–µ—Ç–∏**                 | **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã / —É—Ä–æ–≤–µ–Ω—å OSI**              | **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**                                                                 |
|:--------------------------------------------------- |:---------------------------------------- | ------------------------------------------------------------------------------- |
| –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Å—Ö–æ–¥—è—â–∏–π –ø–∞–∫–µ—Ç                    | PPP<br> (data link layer)                | `SCNetworkReachability`, `Reachability`, `NWPathMonitor`, `waitForConnectivity` |
| –ö–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª –ø–æ–ª—É—á–∏—Ç –Ω–∞—à –ø–∞–∫–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –æ–±—Ä–∞—Ç–Ω—ã–π | ICMP <br>(internet layer)                | `SimplePing`, `SwiftPing`, `GBPing`                                             |
| –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ                  | WISPr 2.0, RADIUS<br>(application layer) | `RealReachability`, `Connectivity`                                              |

–û–ø—è—Ç—å –∂–µ –∫–∞–∫ –≤—ã –º–æ–≥–ª–∏ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –≤—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —è–∑—ã–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.<br>
–í –Ω–∞—à–µ–º —Å–µ—Ç–µ–≤–æ–º —Å–ª–æ–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [RealReachability](https://github.com/dustturtle/RealReachability), –≤–ø—Ä–æ—á–µ–º, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `swift`, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º [Connectivity](https://github.com/rwbutler/Connectivity).<br>

–í —Ä–∞–∑–¥–µ–ª–∞—Ö –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ –º—ã —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–∏ –º–µ—Ç–æ–¥ `prepareAPIManagerBeforeUsing`, –æ–Ω –∫–∞–∫ –Ω–µ–ª—å–∑—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–≤–æ–∏—Ö –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è.

```objectivec
#pragma mark - Customization
/*--------------------------------------------------------------------------------------------------------------
  –ú–µ—Ç–æ–¥ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—Ç—å –≤ 'didFinishLaunchingWithOptions:..'.
 --------------------------------------------------------------------------------------------------------------*/
+ (void) prepareAPIManagerBeforeUsing:(nullable void(^)(void))completion
{
    [API setBaseURL:@"https://api.vk.com/method/"];

    GLobalRealReachability.hostForPing  = @"www.google.com";
    GLobalRealReachability.hostForCheck = @"www.goolge.com";

    if (completion) completion();
}
```

<br>

#### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ APIManager

–í –æ–¥–Ω–æ–º –∏–∑ –ø–µ—Ä–≤—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ —Å—Ç–∞—Ç—å–∏ –º—ã –∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —Ö–µ–¥–µ—Ä —Ñ–∞–π–ª–æ–º –∫–ª–∞—Å—Å–∞ `APIManager`, –≥–¥–µ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å —Å–µ–∫—Ü–∏—é `#pragma mark-Network Operations`, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–±—ä—è–≤–ª—è–ª–∏—Å—å –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞—é—â–∏–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

```objectivec
@interface APIManager : NSObject <Auth2_0_Delegate>
...
#pragma mark - Network Operations
/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) usersGet:(NSArray<NSString*>*)userIDs
           fields:(NSArray<NSString*>* _Nullable)fields
       completion:(nullable void(^)(NSArray<UserProfile*>* _Nullable userProfiles, BO* op))completion;

...
@end
```

<br>

–¢–µ–ø–µ—Ä—å –Ω–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –ø–æ–±–ª–∏–∂–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.

1. **–ü–µ—Ä–≤—ã–º** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `NetworkRequestConstructor`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç `NSURLRequest` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `URL` —Å—Ç—Ä–æ–∫—É –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏.

2. **–í—Ç–æ—Ä—ã–º–∏** (–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏) –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã `APIManager`'a, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–µ –≤–æ–∑–Ω–∏–∫–ª–∏ –ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ –æ—à–∏–±–∫–∏ –∑–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.

3. **–¢—Ä–µ—Ç—å–∏–º** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Validator`, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

4. **–ß–µ—Ç–≤–µ—Ä—Ç—ã–º** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Parser`, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω—É–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ –ø—Ä–∏—à–µ–¥—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞.

5. **–ü—è—Ç—ã–º** –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Mapper`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π `json` —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

6. **–®–µ—Å—Ç—ã–º** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `completion` –±–ª–æ–∫ –º–µ—Ç–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Ü–µ–ª–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å –µ—â–µ –¥–≤–∞ –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–∞.

1. –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤—ã—à–µ —ç—Ç–∞–ø–æ–≤ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, —Ç–æ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º `completion` –±–ª–æ–∫ –º–µ—Ç–æ–¥–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ –Ω–µ–µ –æ—à–∏–±–∫–∏ –∏ –¥—Ä—É–≥–∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

2. <u>–ù–∞–±–æ—Ä –º–æ–¥—É–ª–µ–π</u> –ø—Ä–∏–º–µ–Ω—è—é—â–∏—Ö—Å—è –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π <u>—è–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞</u>. 
   –ö–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∞, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ `Validator` –∏ `Parser` , –ø–æ—Å–∫–æ–ª—å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –±–æ–ª—å—à–∏—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ç–∞–∫–∏–µ –∫–∞–∫ —Å–æ—Ü.—Å–µ—Ç–∏) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ª–∏–±–æ –æ—á–µ–Ω—å –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–π `json`, —Ç–æ –µ—Å—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –∏ –∏–º–µ—Ç—å —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 
   –õ–∏–±–æ –∏–º–µ—Ç—å –∫—Ä–∞–π–Ω–µ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å–µ `Parser`.

<br>

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme6.png">
</p>


–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ `APIManager`'–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.
–†–µ—à–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å–µ–≥–æ 30 —Å—Ç—Ä–æ—á–µ–∫.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö 
 --------------------------------------------------------------------------------------------------------------*/
+ (DTO*) usersGet:(NSArray<NSString*>*)userIDs
           fields:(NSArray<NSString*>* _Nullable)fields
       completion:(nullable void(^)(NSArray<UserProfile*>* _Nullable userProfiles, BO* op))completion
{
    // NetworkRequestConstructor
    NSURLRequest* request = [NetworkRequestConstructor buildRequestForMethod_UsersGet:userIDs fields:fields nameCase:nil];

    // NetworkOpeation
     DTO* netOp =
    [DTO request:request uploadProgress:nil downloadProgress:nil completion:^(DTO * _Nonnull op, NSError * _Nullable error) {

        // Check on 401 and other server's error
        if ([APIManager checkOnServerAndOtherError:op apiMethodCompletion:completion]){
            return;
        }

        // Validator    
        error = [Validator validateResponse:op.json fromAPIMethod:APIMethod_UserGet];
        if ([API callCompletionIfOccuredErrorInOp:op result:nil error:error block:completion]){
            return;
        }

        // Mapper
        NSArray<UserProfile*>* userProfiles = [Mapper usersGetFromJSON:op.json error:&error];
        if ([API callCompletionIfOccuredErrorInOp:op result:userProfiles error:error block:completion]){
            return;
        }

        // Call completion
        if (completion) completion(userProfiles,op);
    }];
    return netOp;
}
```

<br>

#### –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ—á–∏–µ –æ—à–∏–±–∫–∏

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–æ–∑–Ω–∏–∫—à–∏—Ö –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤  –∫–ª–∞—Å—Å–µ `APIManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `checkOnServerAndOtherError`.<br>
–û–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –æ—à–∏–±–æ–∫. –ï—Å–ª–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø—É –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∏—Å—Ç–µ–∫–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏—è –¥–æ–≤–æ–ª—å–Ω–æ-—Ç–∞–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è, –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `completion` –±–ª–æ–∫ –∏ –≤ –Ω–µ–≥–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã.<br>
–¢–æ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –æ—à–∏–±–∫—É `401` –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–≤–æ–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∏—è.<br>

#### –ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ 401 –æ—à–∏–±–∫–∏

–§—Ä–µ–π–º–≤–æ—Ä–∫ **RXNO** –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–≤–æ–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –∏–º–µ–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö **"–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"**, –µ—Å–ª–∏ –≤–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–æ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –µ–µ –≤ –¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤.<br>
–ü–æ—Å–ª–µ —á–µ–≥–æ –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.<br>
–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω, —Ç–æ —Å—Ä–∞–∑—É –∂–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–æ—Ç–æ—Ä—ã–π –≤ —Å–≤–æ–µ–º –±–ª–æ–∫–µ –ø–µ—Ä–µ–¥–∞—Å—Ç –≤ –≤–∞—à–µ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤ —Ç–µ—Ö —Å–∞–º—ã–π **"–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"**, –∞ –≤–∞—à–∞ –∑–∞–¥–∞—á–∞ –≤—Ä—É—á–Ω—É—é –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–∞–∂–¥—É—é –∏–∑ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω.<br>
–î–∞–ª–µ–µ –≤—ã –ø–µ—Ä–µ–¥–∞–¥–∏—Ç–µ –º–∞—Å—Å–∏–≤ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –±–ª–æ–∫ —Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –æ–Ω–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –ø–æ—à–ª–µ—Ç –∏—Ö –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å.<br>

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme7.png">
</p>

---

#### –ö–∞–∫ —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏<a name="–æ—à–∏–±–∫–∏-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"></a>

–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è `401`-–æ–π –æ—à–∏–±–∫–æ–π, —Ç–æ –º–µ—Ç–æ–¥ `checkOnServerAndOtherError` –≤—ã–∑–æ–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **RXNO**, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –º–∞—Å—Å–∏–≤ **"–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö"**.

–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥  `authenticationProcess`, –∫–æ—Ç–æ—Ä—ã–π –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Å –ø–æ–º–æ—â—å—é —Ä–æ—É—Ç–µ—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å —Ñ–æ—Ä–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

```objectivec
+ (void) authenticationProcess:(nullable AuthenticationCompletion)completion
{
    @synchronized ([NSNotificationCenter defaultCenter])
    {
        if (self.isOpenAuthenticationProcess){
            return;
        } else {
            self.isOpenAuthenticationProcess = YES;
        }
        [Router showOAuthControllerWithDelegate:(id<Auth2_0_Delegate>)[APIManager class] showType:PresentController_ShowType];
        APIManager.authenticationCompletion = completion;
    }
}
```

–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∏—Ö –º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ —Ç–∞–∫–∂–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–µ–¥—É—Ç –∏—Ö –∫ `authenticationProcess`, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–ª–æ –∫–æ–ª–ª–∏–∑–∏–π –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –±—É–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.

```objectivec
// APIManager.m
@interface APIManager ()
@property (class, nonatomic, assign) BOOL isOpenAuthenticationProcess;
@property (class, nonatomic, copy) AuthenticationCompletion authenticationCompletion;
@end
```

–ö–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–ª—É—á–∏—Ç—å—Å—è –ø–æ–¥–æ–±–Ω–æ–π –∫–æ–ª–ª–∏–∑–∏–∏. –ê —Ç–∞–∫–∂–µ –≤—Å–µ–≥–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ–∑–≤–æ–ª–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –±–ª–æ–∫–∞ `authenticationCompletion`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω.

–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –≤–∏–¥–µ —Å—Ö–µ–º—ã, —Ç–æ –æ–Ω–∞ –±—É–¥–µ—Ç —Ç–∞–∫–æ–π:

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme8.png">
</p>

–í –∫–æ–¥–µ –º–µ—Ç–æ–¥–∞ `receiveTokenFromWebViewAuth` –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ —Å—Ç—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–µ—Ä—Ç–∏ –ø–æ —Ç–∏–ø—É `isMayUnlockSemaphore` –∏–ª–∏ –º–µ—Ç–æ–¥—ã `unlockSemaphoreForAllPostponned`.<br> 
–î–µ–ª–æ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ **RXNO** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π.<br>
–ß—Ç–æ–±—ã –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–≥–ª–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç–æ–∫ —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `syncStart` –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π —Å–µ–º–∞—Ñ–æ—Ä–æ–≤ `GCD`, –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.<br>
–ê –µ—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, —á—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π `401`, —Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–∑–≤–æ–ª—è—Ç—å "–æ—Ç–ø—É—Å–∫–∞—Ç—å" —Å–µ–º–∞—Ñ–æ—Ä –æ–∂–∏–¥–∞–Ω–∏—è, –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –∏ –æ–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å–Ω–æ–≤–∞, –ª–∏–±–æ –≤–æ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞.

```objectivec
+ (void) receiveTokenFromWebViewAuth:(nullable Token*)token error:(nullable NSError*)error
{
   if (error){
        for (BO* op in RXNO_BaseOperation.postponedOperations)
        {
            op.isMayUnlockSemaphore = YES;
            op.json = (error.userInfo) ? error.userInfo : @{ @"message" : @"Token was received with error" };
        }
        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Ä–∞–Ω–µ–µ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
        [BO unlockSemaphoreForAllPostponned];
         if (APIManager.authenticationCompletion) APIManager.authenticationCompletion(error);
        // –£–¥–∞–ª—è–µ–º –≤—Å–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
        [BO removeAllPostponedOperations];
        APIManager.isOpenAuthenticationProcess = NO;
        return;
  }
    // –ù–∏–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–µ–≥–æ —Ç–æ–∫–µ–Ω–∞.
    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ keychain –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ RAM
    [APIManager saveTokenInKeychain:token];
    [APIManager updateToken:token.access_token expiresAfter:token.expiresAfter userID:token.userID];

    // –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
    // –í—Å—Ç–∞–≤–ª—è–µ–º —Å–≤–µ–∂–∏–π —Ç–æ–∫–µ–Ω –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã —Å –æ—à–∏–±–∫–æ–π.
    [BO performPostponedOperationsOnQueue:APIManager.aSyncQueue
                     updateOperationBlock:^NSArray<BO*>* (NSArray<BO*>* rawOperations) {

                         for (int i=0; i<=rawOperations.count-1; i++)
                         {
                             BO* op = rawOperations[i];
                             modifyOperation block = RXNO_BaseOperation.modificationBlocksForPostponedOperations[op.uniqueHash];

                             if (block){
                                 op =  block(op);
                             }else {
                                 op.parameters[@"access_token"] = APIManager.token.access_token;
                             }
                         }
                         return rawOperations;
                     }];

    APIManager.isOpenAuthenticationProcess = NO;
    if (APIManager.authenticationCompletion) APIManager.authenticationCompletion(error);
}
```

–¢–µ–ø–µ—Ä—å —É–∑–Ω–∞–≤ –≤–æ –≤—Å–µ—Ö –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è—Ö –º–µ—Ö–∞–Ω–∏–∑–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–∞–º –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–µ–Ω –∫–æ–¥ –º–µ—Ç–æ–¥–∞ `checkOnServerAndOtherError`.

–¢–∞–∫–∂–µ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–æ–º–µ–Ω—Ç, –µ—Å–ª–∏ –≤—ã —Å–æ–≤–µ—Ä—à–∏–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –æ–Ω –¥–æ –Ω–µ–≥–æ –¥–æ—à–µ–ª, –∏ –≤–∞–º –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –æ—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä –æ—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ), —Ç–æ–≥–¥–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è `NSURLSessionDataTask` –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—Ö–æ–º. –ü–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –∞ –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω. –ê –∫–∞–∫ —Ä–∞–∑ —Ç–∞–∫–∏ –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ –∏ –±—É–¥–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã –¥–æ–ª–∂–Ω—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.<br>
–í –∫–æ–¥–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–º –≤–Ω–∏–∑—É –º—ã –≤–∏–¥–∏–º —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ `error` –≤ –¥–∂–µ–π—Å–æ–Ω–µ –æ—Ç–≤–µ—Ç–∞.<br>
–î–∞–ª–µ–µ –≤—Å–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–º—É –Ω–∞–º —Å—Ü–µ–Ω–∞—Ä–∏—é.<br>

- –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å `401`-–æ–π, —Ç–æ –æ–Ω–∞ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∑–∞–ø—É—Å–∫–∞—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

- –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –ø–æ –∫–∞–∫–æ–π-–ª–∏–±–æ –∏–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ, —Ç–æ–≥–¥–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–º–µ–¥–ª–µ–Ω–∏–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `completion` –±–ª–æ–∫ —Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ `APIManager`'–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
 –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ completion –±–ª–æ–∫–æ–≤ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤ APIManager'a).
 –ò–∑ –ø—Ä–∏–Ω—è—Ç–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ 'op' - –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—è–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫—à–µ–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.
 –ï—Å–ª–∏ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç 'completion' –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –±–ª–æ–∫, —Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –≤ —Å–ª—É—á–∞–µ –≤—ã—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏, —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–∑–æ–≤–µ—Ç
 completionBlock –º–µ—Ç–æ–¥–∞ APIManager'a (–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å).
 --------------------------------------------------------------------------------------------------------------*/
+ (NSError* _Nullable) checkOnServerAndOtherError:(BO*)op apiMethodCompletion:(nullable void(^)(id value, BO* op))completion
{
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–ª—É—á–∞–π –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –¥–æ—à–µ–ª –¥–æ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–æ –±—ã–ª —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–µ—É–¥–∞—á–Ω–æ –∏ –≤–µ—Ä–Ω—É–ª—Å—è —Å –æ—à–∏–±–∫–æ–π
    if (op.json[@"error"])
    {
        NSString* domain = [NSString stringWithFormat:@"Error code %@",op.json[@"error"][@"error_msg"]];
        op.error = [NSError errorWithDomain:domain code:0 userInfo:op.json[@"error"]];

        // User authorization failed.
        if ([op.json[@"error"][@"error_code"] integerValue] == 5){
            NSLog(@"Error 401");
            // ‚ö†Ô∏è –ó–∞–ø—Ä–µ—â–∞–µ–º —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –∫–æ–¥–æ–º 401
            // –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é, –∞ –ø–æ—Ç–æ–º —É–∂–µ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –æ—Ç–ø—É—Å–∫–∞—Ç—å —Å–µ–º–∞—Ñ–æ—Ä
            if (op.isSync) { op.isMayUnlockSemaphore = NO; }
            [BO postponeOperation:op];

            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–µ–≥–æ —Ç–æ–∫–µ–Ω–∞
            [APIManager authenticationProcess:^(NSError * _Nullable error) {

                if (error) {
                    // –°—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º completion —Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–≤–∞—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π.
                    // –ß—Ç–æ–±—ã –æ–Ω–∞ –∏–º–µ–ª–∞ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–µ –ø—Ä–∞–≤–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å —Å–∏–≥–Ω–∞–ª –≤–æ view, –∞ view –º–æ–≥–ª–æ
                    // –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ 'UIAlertView'.
                    if (completion) completion(nil,op);

                    for (BO* postponedOp in RXNO_BaseOperation.postponedOperations)
                    {
                        // –í—ã–∑—ã–≤–∞–µ–º 'completion' –±–ª–æ–∫–∏ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏
                        if ((![postponedOp isEqual:op]) && (postponedOp.completion)){
                              postponedOp.completion(postponedOp, error);
                        }
                    }
                }
            }];
            return op.error;
        }
    } else if (op.error.code == -1009){
               op.error = [NSError initWithMsg:@"No Internet connection" code:-1009];
    }

    // Handling Other Errors ...
    if ((completion) && (op.error)) completion(nil,op);

    return op.error;
}
```

–ù–∞ —ç—Ç–æ–º —á–∞—Å—Ç—å —Å—Ç–∞—Ç—å–∏ –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —á–∞—Å—Ç—å –ø–æ–≤–µ—Å—Ç–≤—É—é—â–∞—è –æ –ø—Ä–∞–∫—Ç–∏–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å:  [APIManager.m](CodeSnippets(RU)/Mapper.m) .

---

<br>

#### APIManager –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤—É—è—Å—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–º –æ–ø—ã—Ç–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Å–≤–∏—Ñ—Ç, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—à–∏—Ä—è—é—â–∏—Ö –∫–ª–∞—Å—Å - —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π.<br>
–ü–æ—ç—Ç–æ–º—É –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–¥–Ω–æ–≥–æ –∏–∑ –º–æ–¥—É–ª–µ–π, —Å–º–µ–ª–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

–û–¥–Ω–∏–º –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–ª–∞—Å—Å, —è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å "*–ø–æ–¥ —á—å—é —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã ?*".
–î–ª—è —ç—Ç–æ–≥–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é `APIManager+Utilites`.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
 üåêüçë 'APIManager(Utilites)' - —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –∫–æ—Å–≤–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ 'APIManager' –∏ –µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö.
 ---------------
 –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –ø–æ–º–æ–≥–∞—é—â–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 'APIManager', –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å
 –≤ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –ø—Ä–∏—á–∏–Ω–µ —Ç–æ–≥–æ —á—Ç–æ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –∏—Ö –∫—Ä—É–≥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π.

 –ù–∞–ø—Ä–∏–º–µ—Ä —ç—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ—Ç–æ–¥—ã –∫–æ—Ç–æ—Ä—ã–µ:
 - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç 'NSDictionary' –≤ 'NSData'.
 - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ –±–∏–Ω–∞—Ä–Ω–æ–º—É –∫–æ–¥—É.
 - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 'enum' –≤ 'NSString'
--------------------------------------------------------------------------------------------------------------*/
@interface APIManager (Utilites)

/*--------------------------------------------------------------------------------------------------------------
 –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è 'enum' –≤ 'NSString'
 --------------------------------------------------------------------------------------------------------------*/
+ (NSString*) convertAPIMethodToString:(APIMethod)enumValue;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'mimeType' –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ 'NSData'
 --------------------------------------------------------------------------------------------------------------*/
+ (NSString *)mimeTypeForData:(NSData*)data;

/*--------------------------------------------------------------------------------------------------------------
 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ 'NSData'
 --------------------------------------------------------------------------------------------------------------*/
+ (NSString *)extensionForData:(NSData *)data;

/*--------------------------------------------------------------------------------------------------------------
 –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π –∫–æ–¥ –≤ 'NSDictionary'
 --------------------------------------------------------------------------------------------------------------*/
+ (nullable NSDictionary*) convertDataToDict:(NSData*)data withError:(NSError**)error;

@end
```

–¢–∞–∫–∂–µ –ø–æ–¥–æ–±–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ—á–∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π.<br>
–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: [APIManager+Utilites.h](CodeSnippets(RU)/APIManager+Utilites.h)  / [APIManager+Utilites.m](CodeSnippets(RU)/APIManager+Utilites.m).
<br>

## –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è

–ö–æ–Ω–µ—á–Ω–æ –∂–µ –æ—á–µ–≤–∏–¥–Ω—ã–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ç–µ–≤—ã–º —Å–ª–æ–µ–º –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö.<br>
–ü–æ –º–æ–µ–º—É –º–Ω–µ–Ω–∏—é –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, —è–≤–ª—è–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω **MVVM**, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ñ–∞–π–ª–æ–≤ –∏ —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É –Ω–µ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º.<br>
–ù–∏–∂–µ –±—É–¥—É—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **MVVM**.

<p align="center">
  <img src="Documentation/Carbon-Screens/scheme9.png">
</p>

| –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏<br/>ViewController                                        | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏<br/>ViewModel                                                                                                                                                                        | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏<br/>APIManager                                                                           |
| --------------------------------------------------------------------- |:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------- |
| - –•—Ä–∞–Ω–∏—Ç—å `viewModel`.<br/><br/>- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `UI` —Å–æ–±—ã—Ç–∏—è<br/><br/> | - –•—Ä–∞–Ω–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.<br/><br/>- –ò–º–µ—Ç—å –º–µ—Ç–æ–¥—ã –æ–±–µ—Ä—Ç–∫–∏ (–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ `APIManager` –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ü–∏–π).<br/><br/>- –ò–º–µ—Ç—å –º–µ—Ç–æ–¥ –æ—Ç–º–µ–Ω—è—é—â–∏–π —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.<br/><br/> | - –°–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.<br/><br/>- –û—Ç–≤–µ—á–∞—Ç—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞. |

–ö–∞–∫ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Ö–æ–¥—è—â–µ–π—Å—è –≤—ã—à–µ, –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∂–∏—Ç—å—Å—è –Ω–∞ `viewModel` –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

```objectivec
/*--------------------------------------------------------------------------------------------------------------
(üóÉ‚öñÔ∏èüì±) 'UserProfileVM' - viewModel —Ç–∞–±–ª–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ 'UserProfileTVC'.
--------------------------------------------------------------------------------------------------------------*/

@interface UserProfileVM : NSObject

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
@property (nonatomic, strong) NSString* userID;

// –î–∞–Ω–Ω—ã–µ –¥–ª—è UI
@property (nonatomic, strong) NSMutableArray<id>* cellsViewModel;

// –°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
@property (nonatomic, strong) GO* loadAllNeededConentOp;

@property (nonatomic, strong) __block DTO* userInfoNetOp;
@property (nonatomic, strong) __block DTO* userPhotoNetOp;
@property (nonatomic, strong) __block DTO* userWallNetOp;
@property (nonatomic, strong)  DTO* logoutNetOp;

#pragma mark - Work with Network operations
/*--------------------------------------------------------------------------------------------------------------
–ü–æ–ª—É—á–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ 'self.userID' –∏–ª–∏ –ø–æ 'APIManager.token.userID'.
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç viewModel —è—á–µ–π–∫–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–µ –≤ 'cellsViewModel'.
--------------------------------------------------------------------------------------------------------------*/
- (DTO*) userInfoOpRunItself:(BOOL)runOpItself
                     onQueue:(nullable NSOperationQueue*)queue
                  completion:(nullable void(^)(NSError* _Nullable error, UserProfileCellVM* _Nullable cellVM))completion;


/*--------------------------------------------------------------------------------------------------------------
–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ 'self.userID' –∏–ª–∏ –ø–æ 'APIManager.token.userID'.
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç viewModel —è—á–µ–π–∫–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–µ –≤ 'cellsViewModel'.
--------------------------------------------------------------------------------------------------------------*/
- (DTO*) photosOpRunItself:(BOOL)runOpItself
                   onQueue:(nullable NSOperationQueue*)queue
                completion:(nullable void(^)(NSError* _Nullable error))completion;


/*--------------------------------------------------------------------------------------------------------------
–ü–æ–ª—É—á–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ 'self.userID' –∏–ª–∏ –ø–æ 'APIManager.token.userID'.
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç viewModel —è—á–µ–π–∫–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–µ –≤ 'cellsViewModel'.
--------------------------------------------------------------------------------------------------------------*/
- (DTO*) wallOpRunItself:(BOOL)runOpItself
                 onQueue:(nullable NSOperationQueue*)queue
              completion:(nullable void(^)(NSError* _Nullable error,
                          NSArray<WallPostCellVM*>* _Nullable viewModels,
                          NSArray<NSIndexPath*>*    _Nullable indexPaths))completion;

/*--------------------------------------------------------------------------------------------------------------
–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏ (userInfoNetOp,userPhotoNetOp,userWallNetOp)
--------------------------------------------------------------------------------------------------------------*/
- (GO*) performNeededOperations:(void(^)(NSError* _Nullable error))completion;


#pragma mark - Management of network operations
/*--------------------------------------------------------------------------------------------------------------
–û—Ç–º–µ–Ω—è–µ—Ç –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏
--------------------------------------------------------------------------------------------------------------*/
- (void) cancelAllNetworkOperations;


#pragma mark - Initialization
/*--------------------------------------------------------------------------------------------------------------
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç viewModel —Å 'userID'. (–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ –±—É–¥—É—â–µ–º)
--------------------------------------------------------------------------------------------------------------*/
+ (UserProfileVM*) initWithUserID:(nullable NSString*)userID;

@end
```

–ò–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤—ã—à–µ –º—ã –º–æ–∂–µ–º –≤—ã—è–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ **.h** —Ñ–∞–π–ª–µ –≤—å—é–ú–æ–¥–µ–ª–∏.

1. –ü—Ä–æ–ø–µ—Ä—Ç–∏ –Ω–∞ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ **–í–°–ï–ì–î–ê** –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç `__block`.<br>
   –≠—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –Ω–µ—É–¥–∞—á–Ω–æ (—Å –æ—à–∏–±–∫–æ–π `401`) –∏ —Å –ø–æ–º–æ—â—å—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–µ—Ç–æ–¥–∞-–ø–æ–º–æ—â–Ω–∏–∫–∞ `checkOnServerAndOtherError` –≤ –∫–ª–∞—Å—Å–µ `APIManager` –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞ –µ—â–µ —Ä–∞–∑, –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ `APIManager` —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç –∏ –ø–æ–ª—É—á–∏—Ç —Å–≤–µ–∂—ã–π —Ç–æ–∫–µ–Ω.<br>
   –ü–æ—Å–∫–æ–ª—å–∫—É –∫–∞–∂–¥–∞—è —Å–µ—Ç–µ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º –∫–ª–∞—Å—Å–∞ `NSOperation`, –∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞.<br>
   –ü–æ—ç—Ç–æ–º—É –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `performPostponedOperationsOnQueue` –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è, –∏–º–ø–æ—Ä—Ç–∏—Ä—É—è –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Ö –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–∏–∫–æ–≤.<br> 
   –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –≤–∞—à–µ –ø—Ä–æ–ø–µ—Ä—Ç–∏ –Ω–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç–∞ `__block`, —Ç–æ –≤ —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `401` –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≤–∞—à–∞ `viewModel`  –±—É–¥–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –∏–º–µ–Ω–Ω–æ –Ω–∞ –ø–µ—Ä–≤—É—é —Ä–µ–∏–Ω–∫–∞—Ä–Ω–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ü–∏–∏.<br>
   –¢–æ –µ—Å—Ç—å –Ω–∞ —Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π.
   
   ```objectivec
    @property (nonatomic, strong) __block DTO* userInfoNetOp
   ```

---

2. –î–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ç–µ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ `viewModel` –ø–æ–º–∏–º–æ –ø—Ä–æ–ø–µ—Ä—Ç–∏ —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥-–æ–±–µ—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ `APIManager` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `completion` –±–ª–æ–∫ —Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.<br>
   –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–≤ –≥–æ—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ `completion` –±–ª–æ–∫–µ, –≤—ã –º–æ–≥–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏—Ö –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ `viewModel` (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è —è—á–µ–µ–∫ —Ç–∞–±–ª–∏—Ü—ã) –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –∫ –ø—Ä–∏–º–µ—Ä—É –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö.<br>
   
   ```objectivec
    - (DTO*) userInfoOpRunItself:(BOOL)runOpItself
                         onQueue:(nullable NSOperationQueue*)queue
                      completion:(nullable void(^)(NSError* _Nullable error, UserProfileCellVM* _Nullable cellVM))completion;
   ```

---

3. –í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–æ–ª—å—à—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏–º–µ–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –æ–Ω –ø—Ä–æ–ø–µ—Ä—Ç–∏ –≤—Å–µ–≥–æ –Ω–∞ –æ–¥–Ω—É —Å–µ—Ç–µ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∏–ª–∏ –Ω–∞ –¥–µ—Å—è—Ç–æ–∫.<br>
   –ú—ã –¥–æ–ª–∂–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—Ç—å –ø—Ä–æ–ø–µ—Ä—Ç–∏ –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.<br>
   –í–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞ –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥—ã –æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–æ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –ø—É–Ω–∫—Ç–æ–º –≤—ã—à–µ). 
   
   ```objectivec
    @property (nonatomic, strong) GO* loadAllNeededConentOp;
   ```

---

4. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–µ—Ç–æ–¥ –≤ –∫–æ—Ç–æ—Ä–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≥—Ä—É–ø–ø–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `performNeededOperations`.<br> 
   –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–∞–¥–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ `viewDidLoad` –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.<br>
   –ê –Ω–µ –Ω–∞ –ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–ª—è—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –æ—á–µ—Ä–µ–¥—å.
   
   ```objectivec
    - (GO*) performNeededOperations:(void(^)(NSError* _Nullable error))completion;
   ```

---

5. –ü—Ä–∞–≤–∏–ª–æ–º —Ö–æ—Ä–æ—à–µ–≥–æ —Ç–æ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–π `viewModel`, —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `cancelAllNetworkOperations`, –≤ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Ö–æ–¥–∏—Ç –æ—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ–∂–∏–¥–∞—é—Ç –Ω–∞—á–∞–ª–∞ —Å–≤–æ–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
   
   ```objectivec
    - (void) cancelAllNetworkOperations
   ```

<br><br>

#### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—å—é–ú–æ–¥–µ–ª–µ–π –≤ —Ñ–∞–π–ª–∞—Ö –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ .m

1. –í –º–µ—Ç–æ–¥–∞—Ö –æ–±–µ—Ä—Ç–∫–∞—Ö —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –≤ `completion` –±–ª–æ–∫–∞—Ö –æ—Ç –º–µ—Ç–æ–¥–æ–≤ `APIManager`'–∞, –≤—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∞—à—É —Å–µ—Ç–µ–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.
   
   ```objectivec
   weak.userInfoNetOp = (DTO*)op;
   ```
   
    –≠—Ç–æ –≤–∞–∂–Ω–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–∞–º–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é. –ï—Å–ª–∏ –¥–æ —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π `401`, —Ç–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.
   
   ```objectivec
    - (DTO*) userInfoOpRunItself:(BOOL)runOpItself
                         onQueue:(nullable NSOperationQueue*)queue
                      completion:(nullable void(^)(NSError* _Nullable error, UserProfileCellVM* _Nullable cellVM))completion
    {
        ...
        self.userInfoNetOp =
        [APIManager usersGet:self.userID
                      fields:nil
                  completion:^(NSArray<UserProfile*>* _Nullable userProfiles, BO* _Nonnull op) {
   
            // Update property refrence on fresh operation
            weak.userInfoNetOp = (DTO*)op;
            ...
        }];
        ...
    }
   ```

---

2. –ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ –≤–∏–¥–µ—Ç—å —Ä–∞–Ω–µ–µ, –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥-–æ–±–µ—Ä—Ç–∫–∞ –∏–º–µ–µ—Ç –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `runOpItself` –∏ `queue`. –û–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥ –æ–±–µ—Ä—Ç–∫–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ—à–∏–ª –Ω–∞–¥–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –Ω–µ—Ç, —Å—Ç–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å –∏–ª–∏ –Ω–µ—Ç.<br>
   –î–ª—è —ç—Ç–æ–≥–æ –≤—Å–µ–≥–¥–∞ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–π –æ—Ç—Ä–µ–∑–æ–∫ –∫–æ–¥–∞ –≤ –Ω–∏–∂–Ω–µ—é —á–∞—Å—Ç—å —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤.
   
   ```objectivec
        // –†–µ—à–∞–µ—Ç, –Ω–∞—á–∏–Ω–∞—Ç—å –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏–ª–∏ –Ω–µ—Ç.
        if ((runOpItself) && (self.userWallNetOp.state == RXNO_ReadyToStart)){
            [self.userWallNetOp start];
        }else if ((!runOpItself) && (queue) && (self.userWallNetOp.state == RXNO_ReadyToStart)){
            [queue addOperation:self.userWallNetOp];
        }
   ```

---

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –≤–∞—à–µ–π —Å–µ—Ç–µ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã –µ–µ –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—ã–ª–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (`NSOperationQueue`) –¥–æ –Ω–∞—á–∞–ª–∞ –µ–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.<br>
   –¢–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –∫–æ–≥–¥–∞ –≤—ã –≤—ã—Ö–æ–¥–∏—Ç–µ —Å —ç–∫—Ä–∞–Ω–∞, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤ –æ—á–µ—Ä–µ–¥—å –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏.<br>
   –ü–æ–¥–æ–±–Ω—É—é –∑–∞–¥–∞—á—É –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–ø–µ—Ä—Ç–∏ —á–µ—Ä–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
   
   ```objectivec
    // NSObject+AdditionalProperties.m
   
    - (NSString *)addressInMemory
    {
        NSString *addressInMemory = objc_getAssociatedObject(self, @selector(addressInMemory));
        if (!addressInMemory){
            addressInMemory = [NSString stringWithFormat:@"%p",self];
            [self setAddressInMemory:addressInMemory];
        }
        return addressInMemory;
    }
   
    - (void)setAddressInMemory:(NSString *)addressInMemory
    {
        objc_setAssociatedObject(self, @selector(addressInMemory), addressInMemory, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    }
   ```
   
    –ß—Ç–æ–±—ã –≤ —Å–∞–º–æ–º –º–µ—Ç–æ–¥–µ –æ–±–µ—Ä—Ç–∫–µ, –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤–∞—à–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è–º.
   
   ```objectivec
    self.userInfoNetOp.owner = self.addressInMemory;
   ```
   
    –î–∞–ª–µ–µ –≤ –º–µ—Ç–æ–¥–µ `cancelAllNetworkOperations` –º—ã –≤—ã–∑—ã–≤–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `cancelAllNetworkOperationsByEqualToString` –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **RXNO**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–º–µ–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º `owner` –≤ —Å–≤–æ–µ–º –º–∞—Å—Å–∏–≤–µ `operations`.
   
   ```objectivec
    - (void) cancelAllNetworkOperations
    {   // –û—Ç–º–µ–Ω—è–µ–º —Ä–∞–±–æ—Ç—É —Å—Ä–∞–∑—É –Ω–∞ –¥–≤—É—Ö –æ—á–µ—Ä–µ–¥—è—Ö, –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π
        [BO cancelAllNetworkOperationsByEqualToString:self.addressInMemory inQueue:APIManager.aSyncQueue];
        [BO cancelAllNetworkOperationsByEqualToString:self.addressInMemory inQueue:APIManager.syncQueue];
    }
   ```
   
    –ê —Å–∞–º –º–µ—Ç–æ–¥ `cancelAllNetworkOperations` –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `dealloc`.
   
   ```objectivec
    - (void)dealloc
    { 
        [self cancelAllNetworkOperations];
    }
   ```

---

4. –í—ã–∑–æ–≤–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã-–æ–±–µ—Ä—Ç–∫–∏ –≤–Ω—É—Ç—Ä–∏ `performNeededOperations`.<br>
   –ß—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –≤—ã –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - –≤—Å–µ–≥–æ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫.
   
   ```objectivec
    - (GO*) performNeededOperations:(void(^)(NSError* _Nullable error))completion
    {
        __weak UserProfileVM* weak = self;
        // Group operation initialization
        self.loadAllNeededConentOp = [GO groupOperation:^(GO * _Nonnull groupOp){
   
            // –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            [[weak userInfoOpRunItself:NO onQueue:nil completion:nil] syncStart];
   
            // –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∞–µ–º –Ω–∞–±–æ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            [[weak photosOpRunItself:NO onQueue:nil completion:nil]  syncStart];
   
            // –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π —Å–æ —Å—Ç–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            [[weak wallOpRunItself:NO onQueue:nil completion:nil] syncStart];
   
            if (completion) completion(weak.userWallNetOp.error);
        }];
        [APIManager.syncQueue addOperation:self.loadAllNeededConentOp];
        return self.loadAllNeededConentOp;
    }
   ```
   
    –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–Ω—É—Ç—Ä–∏ `viewDidLoad`, —á—Ç–æ–±—ã –∫ –º–æ–º–µ–Ω—Ç—É –≤—ã–∑–æ–≤–∞ `viewDidAppear` –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ–ª–∏ —Å–∫–∞—á–∞—Ç—å—Å—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è.
   
   ```objectivec
    - (void)viewDidLoad
    {
        [self.viewModel performNeededOperations:^(NSError * _Nullable error) {
            MainQueue(^{
                [weak.tableView reloadData];
            });
        }];
    }
   ```

–í–µ—Å—å –∫–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å: 

| –•–µ–¥–µ—Ä —Ñ–∞–π–ª                                            | –§–∞–π–ª –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏                                    |
| ----------------------------------------------------- | ----------------------------------------------------- |
| [UserProfileTVC.h](CodeSnippets(RU)/UserProfileTVC.h) | [UserProfileTVC.m](CodeSnippets(RU)/UserProfileTVC.m) |
| [UserProfileVM.h](CodeSnippets(RU)/UserProfileVM.h)   | [UserProfileVM.m](CodeSnippets(RU)/UserProfileVM.m)   |

<br><br>

## –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –≤ APIManager

–ù–∏–∂–µ –±—É–¥–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–µ—Ç–æ–¥–æ–≤ –≤–∞—à–µ–≥–æ `API` –≤ `APIManager`.<br>

**(1) APIMethods.h**

1. –î–æ–±–∞–≤—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `enum` `APIMethod`.
   
   ```objectivec
   typedef NS_ENUM(NSInteger, APIMethod) {
       ...
       APIMethod_StatisticsGet,
   };
   ```

2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫–æ–≤—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É —Å–æ–¥–µ—Ä–∂–∞—â–µ—é `endPoint` –≤–∞—à–µ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ —Ñ–∞–π–ª `APIMethods.h`.
   
   ```objectivec
   #pragma mark - String Constants API Part
   ...
   static NSString *const statisticsGet = @"statistics.get";
   ```

---

**(2) APIManager+Utilites**

3. –í –º–µ—Ç–æ–¥–µ `convertAPIMethodToString` –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è `enum`.
   
   ```objectivec
   #import "APIManager+Utilites.m"
   /*--------------------------------------------------------------------------------------------------------------
    –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è 'enum' –≤ 'NSString'
    --------------------------------------------------------------------------------------------------------------*/
   + (NSString*) convertAPIMethodToString:(APIMethod)enumValue
   {   ...
       switch (enumValue) {
           case APIMethod_StatisticsGet: convert = @"statistics.get"; break;
       }
       ...
   }
   ```

---

**(4) NetworkRequestConstructor**

4. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –≤ **NetworkRequestConstructor**.
   
   - –ü–µ—Ä–≤—ã–π —Å –Ω–∞–±–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
     
     ```objectivec
     + (nullable NSMutableURLRequest*) buildRequestForMethod_statisticsGet:(nullable NSArray<NSString*>*)userIds
                                                                    fields:(nullable NSArray<NSString*>*)fields;
     ```
   
   - –í—Ç–æ—Ä–æ–π —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Å–ª–æ–≤–∞—Ä–µ–º `properties`.
     
     ```objectivec
     + (nullable NSMutableURLRequest*) buildRequestForMethod_statisticsGet:(nullable NSDictionary<NSString*,id>*)properties;
     ```

5. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–∞—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É—é—â–∏—Ö `NSURLRequest` –≤ –º–µ—Ç–æ–¥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å `buildRequestForMethod:properties:`.
   
   ```objectivec
   + (NSMutableURLRequest* _Nullable) buildRequestForMethod:(APIMethod)method
                                                 properties:(nullable NSDictionary<NSString*,id>*)properties
   {   ...
       switch (method) {
          case APIMethod_StatisticsGet: request = [NRC buildRequestForMethod_StatisticsGet:properties]; break;
          ...
       }
      ...
   }
   ```

---

**(5) Validator**

6. –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞.<br>
   *–î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø–æ–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç–µ –∫–∞–∫ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥,  –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –≤–∞–º –≤ –±—É–¥—É—â–µ–º.
   
   ```objectivec
   + (NSError* _Nullable) validateResponseFrom_statisticsGet:(NSDictionary*)recievedJSON;
   ```

7. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–∞—à–µ–≥–æ –º–µ—Ç–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ `validateResponse:fromAPIMethod:`
   
   ```objectivec
   + (NSError* _Nullable) validateResponse:(NSDictionary*)recievedJSON fromAPIMethod:(APIMethod)method
   {   ...
       switch (method) {
           case APIMethod_StatisticsGet: error = [Validator validateResponseFrom_statisticsGet:recievedJSON]; break;
           ...
       }
     ...
   }
   ```

----

**(6) YourModel**

8. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥ –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∂–µ–π—Å–æ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏.
   
   ```objectivec
   + (FEMMapping *)defaultMapping
   {
       FEMMapping *mapping = [[FEMMapping alloc] initWithObjectClass:[Statitstics class]];
       // property from nsobject : keypath from json
       [mapping addAttributesFromDictionary:@{ @"timeStatitstics": @"time_statitstics",
                                               @"activityStatitstics" : @"activity_statitstics" }];   
       return mapping;
   }
   ```

---

**(7) Parser**

9. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –Ω–∞ –º–µ—Ç–æ–¥, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –¥–æ–±–∞–≤–∏—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞–π–Ω–µ —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö.<br> 
   –ò –≤—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –µ–µ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ `Mapper`.<br>
   –¢–æ —Ç–æ–≥–¥–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏ –≤—ã–Ω–µ—Å–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–æ–¥—É–ª–µ `Parser`.<br>

---

**(8) Mapper**

10. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å `json` –∏ `error`, –∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.
    
    ```objectivec
    + (nullable NSArray<Statitstics*>*) statitsticsFromJSON:(NSDictionary*)json error:(NSError*_Nullable* _Nullable)error;
    ```

----

**(9) APIManager**

11. –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–π –º–µ—Ç–æ–¥.<br>
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é –∏ `completion` –±–ª–æ–∫ –¥–ª—è –Ω–µ–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏ —Å–ª–µ–¥—É—è –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø—É–Ω–∫—Ç–∞–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
    
    ```objectivec
    + (DTO*) statitsticsGet:(NSArray<NSString*>*)userIDs
                     fields:(NSArray<NSString*>* _Nullable)fields
                 completion:(nullable void(^)(NSArray<Statitstics*>* _Nullable usersStatitstics, BO* op))completion;
    ```

---

<br>

## –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤

–ò—Ç–∞–∫, –∫–æ–ª–ª–µ–≥–∏, –Ω–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –ø–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏ –Ω–∞—à–µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —á—Ç–æ –∂–µ –¥–∞–µ—Ç –Ω–∞–º –ø–æ–¥–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è ?

- –ü–æ—Ç—Ä—è—Å–∞—é—â–∏–µ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π, —Ä–∞–∑–¥–µ–ª–∏–≤—à–∏—Å—å –Ω–∞ –∫–æ–º–∞–Ω–¥—É –æ—Ç  **3** –¥–æ **5** —á–µ–ª–æ–≤–µ–∫. (–ü–æ —á–∏—Å–ª—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–æ–¥—É–ª–µ–π `API`,`NRC`,`Validator`,`Parser`,`Mapper`).

- –í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å, –±–ª–∞–≥–æ–¥–∞—Ä—è —Ü–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –ª–∏—à—å –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞–º–∏ –∏ –ø—Ä–æ–ø–µ—Ä—Ç—è–º–∏ –∫–ª–∞—Å—Å–æ–≤.

- –ü–æ—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è –ª–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç—å. –ü–æ —Å–∫–æ–ª—å–∫–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —á–µ—Ç–∫–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏, –∫–æ–Ω–µ—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ `APIManager` –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞–Ω–∏–º–∞—é—Ç –æ—Ç **30** –¥–æ **50** —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (**–ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–∞ objective-c*).

–í—Å–µ –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –Ω–µ–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—É—é –ª–µ–≥–∫–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è.
–ö–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–Ω–∏–∂–∞–µ—Ç—Å—è —Ü–µ–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞—Ç—Ä–∞—á–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.
–°–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Ç–æ–º—É, —á—Ç–æ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞ - —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ–ª—å—à–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–æ—Ä–æ–≥–∏–µ –∫–æ–ª–ª–µ–≥–∏, –∞–±—Å–æ–ª—é—Ç–Ω–æ —è—Å–Ω—ã–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–π –∏ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –µ–µ —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π.<br>
–ö–æ—Ç–æ—Ä—ã–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç –Ω–µ–∫—É—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É.

–î–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏—à—å –æ–±—â–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.<br> 
–ò –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã–¥–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—É–ª–∞—Ç—ã –µ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è.

–ü—Ä–æ—à—É –≤–∞—Å –Ω–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±—É–∫–≤–∞–ª—å–Ω–æ, –≤–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π —Å –¥—Ä—É–≥–∏–º –Ω–∞–±–æ—Ä–æ–º –º–æ–¥—É–ª–µ–π –∏ –∏–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π.

<br>

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–í —Å–≤—è–∑–∏ —Å –≤—ã—à–µ–∏–∑–ª–æ–∂–µ–Ω–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º, —Ö–æ—á—É –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –¥–æ–∫–ª–∞–¥—ã –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–≤—ã—Å–∏—Ç—å –≤–∞—à—É —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ç–µ–≤—ã–º —Å–ª–æ–µ–º –≤ `iOS` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

**–£—Ç–∏–ª–∏—Ç—ã**

1. `Must-Have` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ [**Bagel**](https://github.com/yagiz/Bagel) - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∏ –∏—Å—Ö–æ–¥—è—â–∏–µ –ø–∞–∫–µ—Ç—ã —Å –≤–∞—à–µ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞. 
   –ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –≤–∞—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
   –ü—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –∑–∞–º–µ–Ω–∞ [wireshark'a](https://www.wireshark.org/).
   
    <p align="center">
      <img src="https://github.com/yagiz/Bagel/raw/develop/assets/screenshot.png?raw=true">
    </p>


2. `Must-Have` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ [**SnipperApp2**](https://snipper.app/) - –Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ–Ω–¥–∂–µ—Ä —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ –∫–æ–¥–∞.
   –í–æ –≤—Ä–µ–º–µ–Ω–∞ –∫–æ–≥–¥–∞ –º–æ–±–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è, –∫–∞–∂–¥–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –ø–æ–¥ —Ä—É–∫–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å–Ω–∏–ø–ø–µ—Ç–æ–≤.
   –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –æ—Ç–∫–∞–∑ –æ—Ç –≥—É–≥–ª–∏–Ω–≥–∞ –∫–∞–∂–¥–æ–¥–Ω–µ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø–æ —Ç–∏–ø—É `NSAppTransportSecurity`, –≤ —Å—É–º–º–µ —ç–∫–æ–Ω–æ–º–∏—Ç –ø—Ä–∏–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏.
   
    <p align="center">
      <img src="Documentation/Carbon-Screens/scheme10.png" width="959">
    </p>

**–î–æ–∫–ª–∞–¥—ã**

1. [–ï–≤–≥–µ–Ω–∏–π –†—Ç–∏—â–µ–≤ ‚Äî –†–∞–±–æ—Ç–∞–µ–º —Å —Å–µ—Ç—å—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ](https://www.youtube.com/watch?v=7HtE3Ci78nU). –í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π –¥–æ–∫–ª–∞–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–≤–µ—Å—Ç–≤—É–µ—Ç—Å—è –æ —Ç–æ–Ω–∫–∏—Ö –Ω—é–∞–Ω—Å–∞—Ö —Ä–∞–±–æ—Ç—ã —Å `NSURLSession`.
   –†–µ–∫–æ–º–µ–Ω–¥—É—é –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –≤—Å–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –ø–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

2. [–ì–ª–µ–± –ù–æ–≤–∏–∫ ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π](https://www.youtube.com/watch?v=yAjzkwbFIds).
   –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å —Ä–∞—Å—Å–∫–∞–∑–æ–º –æ —Ç–æ–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞–∑–¥–µ–ª—è—Ç—å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è. 


## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

[üá¨üáß English Readme](README.md)


## –ê–≤—Ç–æ—Ä

[üë®üèº‚Äçüíª @m1a7](github.com/m1a7)  <br>üëåüèª thisismymail03@gmail.com
